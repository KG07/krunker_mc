{"name":"Minecraft_1.0","welMsg":"This is the first version of my minecraft map","ambient":"#97a0a8","light":"#f2f8fc","sky":"#dce8ed","fog":"#8d9aa0","fogD":2000,"colors":["#000000","#00FF00","#FFFFFF"],"xyz":[96,10,96,1,1,98,98,1,1,10,150,96,96,150,10,1,1,49,1,11,1,1,9,49,60,0.01,10,1,1,51,1,13,1,10,250,96,96,250,10,100,0.01,20,0.5,1,5,0.5,1,2,0.5,1,1,0.5,2,1,0.5,5,1,0.5,4.5,1,100,20,100,100,0.01,10],"objects":[{"p":[0,-10,0],"at":"18474","tsm":10,"si":0},{"p":[48,0,0],"l":1,"v":1,"t":5,"ci":0,"si":1},{"p":[42,0,0],"l":1,"v":1,"t":5,"ci":0,"si":1},{"p":[36,0,0],"l":1,"v":1,"t":5,"ci":0,"si":1},{"p":[30,0,0],"l":1,"v":1,"t":5,"ci":0,"si":1},{"p":[24,0,0],"l":1,"v":1,"t":5,"ci":0,"si":1},{"p":[18,0,0],"l":1,"v":1,"t":5,"ci":0,"si":1},{"p":[12,0,0],"l":1,"v":1,"t":5,"ci":0,"si":1},{"p":[6,0,0],"l":1,"v":1,"t":5,"ci":0,"si":1},{"p":[0,0,0],"l":1,"v":1,"t":5,"ci":0,"si":1},{"p":[-6,0,0],"l":1,"v":1,"t":5,"ci":0,"si":1},{"p":[-12,0,0],"l":1,"v":1,"t":5,"ci":0,"si":1},{"p":[-18,0,0],"l":1,"v":1,"t":5,"ci":0,"si":1},{"p":[-24,0,0],"l":1,"v":1,"t":5,"ci":0,"si":1},{"p":[-30,0,0],"l":1,"v":1,"t":5,"ci":0,"si":1},{"p":[-36,0,0],"l":1,"v":1,"t":5,"ci":0,"si":1},{"p":[-42,0,0],"l":1,"v":1,"t":5,"ci":0,"si":1},{"p":[-48,0,0],"l":1,"v":1,"t":5,"ci":0,"si":1},{"p":[0,0,-48],"l":1,"v":1,"t":5,"ci":0,"si":2},{"p":[0,0,-42],"l":1,"v":1,"t":5,"ci":0,"si":2},{"p":[0,0,-36],"l":1,"v":1,"t":5,"ci":0,"si":2},{"p":[0,0,-30],"l":1,"v":1,"t":5,"ci":0,"si":2},{"p":[0,0,-24],"l":1,"v":1,"t":5,"ci":0,"si":2},{"p":[0,0,-18],"l":1,"v":1,"t":5,"ci":0,"si":2},{"p":[0,0,-12],"l":1,"v":1,"t":5,"ci":0,"si":2},{"p":[0,0,-6],"l":1,"v":1,"t":5,"ci":0,"si":2},{"p":[0,0,0],"l":1,"v":1,"t":5,"ci":0,"si":2},{"p":[0,0,6],"l":1,"v":1,"t":5,"ci":0,"si":2},{"p":[0,0,12],"l":1,"v":1,"t":5,"ci":0,"si":2},{"p":[0,0,18],"l":1,"v":1,"t":5,"ci":0,"si":2},{"p":[0,0,24],"l":1,"v":1,"t":5,"ci":0,"si":2},{"p":[0,0,30],"l":1,"v":1,"t":5,"ci":0,"si":2},{"p":[0,0,36],"l":1,"v":1,"t":5,"ci":0,"si":2},{"p":[0,0,42],"l":1,"v":1,"t":5,"ci":0,"si":2},{"p":[0,0,48],"l":1,"v":1,"t":5,"ci":0,"si":2},{"p":[53,0,0],"l":1,"wj":1,"f":"10","o":0.3,"t":10,"tsm":5,"ts":10,"td":1,"ci":1,"si":3},{"p":[-53,0,0],"l":1,"wj":1,"f":"20","o":0.3,"t":10,"tsm":5,"ts":10,"td":1,"ci":1,"si":3},{"p":[0,0,-53],"l":1,"wj":1,"f":"2","o":0.3,"t":10,"tsm":5,"ts":10,"td":1,"ci":1,"si":4},{"p":[0,0,53],"l":1,"wj":1,"f":"1","o":0.3,"t":10,"tsm":5,"ts":10,"td":1,"ci":1,"si":4},{"p":[80,211,0],"l":1,"t":5,"ei":2,"si":5},{"p":[80,201,-25],"l":1,"t":5,"ei":2,"si":6},{"p":[80,201,25],"l":1,"t":5,"ei":2,"si":6},{"p":[80.1,202,0],"l":1,"t":5,"ci":0,"si":7},{"p":[80,201,0],"l":1,"t":5,"ei":2,"si":5},{"p":[80,220,0],"i":30,"r":[1.57,0,1.57],"st":"Loading please wait","sc":"#FFFFFF","so":"#000000","sot":15,"bv":1,"sf":70,"sa":1,"si":8},{"p":[79,200,0],"l":1,"t":5,"ci":0,"si":9},{"p":[79,200,-26],"l":1,"t":5,"ci":0,"si":10},{"p":[79,200,26],"l":1,"t":5,"ci":0,"si":10},{"p":[79,212,0],"l":1,"t":5,"ci":0,"si":9},{"p":[53,0,0],"wj":1,"v":1,"t":10,"tsm":5,"ts":10,"td":1,"ci":1,"si":11},{"p":[-53,0,0],"wj":1,"v":1,"t":10,"tsm":5,"ts":10,"td":1,"ci":1,"si":11},{"p":[0,0,53],"wj":1,"v":1,"t":10,"tsm":5,"ts":10,"td":1,"ci":1,"si":12},{"p":[0,0,-53],"wj":1,"v":1,"t":10,"tsm":5,"ts":10,"td":1,"ci":1,"si":12},{"p":[-80,250,0],"i":30,"r":[1.57,0,-1.57],"st":"How to play:","sc":"#FFFFFF","so":"#000000","sot":15,"bv":1,"sf":70,"sa":1,"si":8},{"p":[-80,235,0],"i":30,"r":[1.57,0,-1.57],"st":"use right click to place blocks and left click to break blocks","sc":"#FFFFFF","so":"#000000","sot":9,"bv":1,"sf":42,"sa":1,"si":13},{"p":[-80,220,0],"i":30,"r":[1.57,0,-1.57],"st":"use scroll to switch blocks in the inventory","sc":"#FFFFFF","so":"#000000","sot":9,"bv":1,"sf":42,"sa":1,"si":13},{"p":[-80,210,0],"i":30,"r":[1.57,0,-1.57],"st":"Build limit is 16 block","sc":"#FFFFFF","so":"#000000","sot":15,"bv":1,"sf":70,"sa":1,"si":8},{"p":[79,225,0],"l":1,"t":5,"ci":0,"si":14},{"p":[79,226,-3.5],"l":1,"t":5,"ci":0,"si":15},{"p":[79,227,-5],"l":1,"t":5,"ci":0,"si":16},{"p":[79,228,-6],"l":1,"t":5,"ci":0,"si":17},{"p":[79,230,-7],"l":1,"t":5,"ci":0,"si":18},{"p":[79,235,-6],"l":1,"t":5,"ci":0,"si":17},{"p":[79,237,-5],"l":1,"t":5,"ci":0,"si":16},{"p":[79,238,-3.5],"l":1,"t":5,"ci":0,"si":15},{"p":[79,239,0],"l":1,"t":5,"ci":0,"si":14},{"p":[79,226,3.5],"l":1,"t":5,"ci":0,"si":15},{"p":[79,227,5],"l":1,"t":5,"ci":0,"si":16},{"p":[79,228,6],"l":1,"t":5,"ci":0,"si":17},{"p":[79,230,7],"l":1,"t":5,"ci":0,"si":18},{"p":[79,235,6],"l":1,"t":5,"ci":0,"si":17},{"p":[79,237,5],"l":1,"t":5,"ci":0,"si":16},{"p":[79,238,3.5],"l":1,"t":5,"ci":0,"si":15},{"p":[79,228.5,0],"l":1,"t":5,"ci":0,"si":19},{"p":[79,230,-3],"l":1,"t":5,"ci":0,"si":18},{"p":[79,230,3],"l":1,"t":5,"ci":0,"si":18},{"p":[79,229,-1],"l":1,"t":5,"ci":0,"si":16},{"p":[79,229,1],"l":1,"t":5,"ci":0,"si":16},{"p":[79,229.5,2],"l":1,"t":5,"ci":0,"si":16},{"p":[79,229.5,-2],"l":1,"t":5,"ci":0,"si":16},{"p":[79,232.5,-1],"l":1,"t":5,"ci":0,"si":16},{"p":[79,233,-2],"l":1,"t":5,"ci":0,"si":16},{"p":[79,232.5,1],"l":1,"t":5,"ci":0,"si":16},{"p":[79,233,2],"l":1,"t":5,"ci":0,"si":16},{"p":[79,234.5,-2],"l":1,"t":5,"ci":0,"si":16},{"p":[79,235,-1],"l":1,"t":5,"ci":0,"si":16},{"p":[79,235.5,0],"l":1,"t":5,"ci":0,"si":16},{"p":[79,235,1],"l":1,"t":5,"ci":0,"si":16},{"p":[79,234.5,2],"l":1,"t":5,"ci":0,"si":16},{"p":[0,200,0],"i":29,"pl":1,"v":1,"o":0,"tm":0,"tac":10,"te":16,"tas":[{"ta":49,"tc":10,"tc2":3,"tct":"Donated"},{"ta":17,"tct":"Thanks for donation"}],"inm":"donate this map","si":20},{"p":[-80,200,0],"i":30,"r":[1.57,0,-1.57],"st":"contact me KG07 3875 in discord","sc":"#FFFFFF","so":"#000000","sot":9,"bv":1,"sf":42,"sa":1,"si":21},{"p":[80,250,0],"i":30,"r":[1.57,0,1.57],"st":"Special thanks to ManiaMapper for donating 10000 KR","sc":"#FFFFFF","so":"#000000","sot":9,"bv":1,"sf":42,"sa":1,"si":13},{"p":[80,190,0],"i":30,"r":[1.57,0,1.57],"st":"Minecraft_2.0 is confirmed if 100 likes and 100 000 plays","sc":"#FFFFFF","so":"#000000","sot":9,"bv":1,"sf":42,"sa":1,"si":13}],"config":{"modes":[4],"classes":[9],"settings":{"maxPlayers":20,"gameTime":0,"logTim":0,"jumpMlt":0.7,"strafeSpd":1,"canSlide":0,"noStreaks":1,"throwMel":0}},"scripts":{"client":"IyBDbGllbnQgU2NyaXB0IHJ1bnMgb25seSBvbiB0aGUgY2xpZW50CiMgS3J1bmtTY3JpcHQgQ29weXJpZ2h0IChDKSBZZW5kaXMgRW50ZXJ0YWlubWVudCBQdHkgTHRkCiMgCiMgQWRkIGN1c3RvbSBhY3Rpb25zIGhlcmUKCiMgUnVucyB3aGVuIHRoZSBnYW1lIHN0YXJ0c251bSB0ID0gMDsKbnVtIHRpY2tzID0gMDsKbnVtIGNvdW50ID0gMDsKbnVtIGNvdW50XyA9IDA7Cm51bVtdIEggPSBudW1bXTsKbnVtIHcgPSAzOwpudW0gaF8gPSAxMTsKbnVtIGMgPSA4OwpudW0gcyA9IDM7Cm51bSBYID0gMDsKbnVtIFkgPSAwOwpudW0gWiA9IDA7Cm51bSBjb29sZG93biA9IDI1MDsKbnVtIG94ID0gMDsKbnVtIG95ID0gMDsKbnVtIG96ID0gMDsKbnVtIE9YID0gMDsKbnVtIE9ZID0gMDsKbnVtIE9aID0gMDsKbnVtIFQgPSAwOwpib29sIGFkanVzdF8gPSBmYWxzZTsKYm9vbCBsYXN0QWRqdXN0ID0gZmFsc2U7CmJvb2wgbG9hZGluZyA9IHRydWU7Cm9ialtdIGxvYWRzID0gb2JqW107Cm9ialtdIGN1YmUgPSBvYmpbXTsKb2JqW10gY3ViZXMgPSBvYmpbXTsKYm9vbFtdW11bXSBjaHVuayA9IGJvb2xbXVtdW107CmJvb2xbXVtdW10gYmxvY2sgPSBib29sW11bXVtdOwpudW1bXVtdW10gYmxvY2tzID0gbnVtW11bXVtdOwpudW1bXSB0ZXh0dXJlcyA9IG51bVszOTk0OCwgNDczMywgNDM3MTgsIDQyNTMzLCAxMTE3NSwgMjcwODAsIDM5NzcwLCAzNjM3MiwgMzU5NzldOwpudW0gc2VsZWN0ID0gMDsKCmJvb2wgYWN0aW9uIGNoZWNrUGxheWVycyhvYmogUCl7CglvYmpbXSBwbGF5ZXJzID0gR0FNRS5QTEFZRVJTLmxpc3QoKTsKCWZvcihudW0gaSA9IDA7IGkgPCBsZW5ndGhPZiBwbGF5ZXJzOyBpKyspewoJCWlmKChib29sKSBwbGF5ZXJzW2ldLmlzQ3JvdWNoaW5nICYmIE1hdGguYWJzKChudW0pIHBsYXllcnNbaV0ucG9zaXRpb24ueCAtIChudW0pIFAueCAqIDYgKyA0NSkgPCAoMi45ICsgdyAvIDIpICYmIAoJCU1hdGguYWJzKChudW0pIHBsYXllcnNbaV0ucG9zaXRpb24ueSAtIChudW0pIFAueSAqIDYgKyBjIC8gMiAtIDMpIDwgKGMgLyAyICsgMi45KSAmJiBNYXRoLmFicygobnVtKSBwbGF5ZXJzW2ldLnBvc2l0aW9uLnogLSAobnVtKSBQLnogKiA2ICsgNDUpIDwgKDIuOSArIHcgLyAyKSl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgkJaWYoISgoYm9vbCkgcGxheWVyc1tpXS5pc0Nyb3VjaGluZykgJiYgTWF0aC5hYnMoKG51bSkgcGxheWVyc1tpXS5wb3NpdGlvbi54IC0gKG51bSkgUC54ICogNiArIDQ1KSA8ICgyLjkgKyB3IC8gMikgJiYgCgkJTWF0aC5hYnMoKG51bSkgcGxheWVyc1tpXS5wb3NpdGlvbi55IC0gKG51bSkgUC55ICogNiArIGhfIC8gMiAtIDMpIDwgKGhfIC8gMiArIDIuOSkgJiYgTWF0aC5hYnMoKG51bSkgcGxheWVyc1tpXS5wb3NpdGlvbi56IC0gKG51bSkgUC56ICogNiArIDQ1KSA8PSgyLjkgKyB3IC8gMikpewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJfQoJcmV0dXJuIHRydWU7Cn0KbnVtIGFjdGlvbiBhZGp1c3QobnVtIHAsIG51bSBxKXsKCWlmKHAgPCAwKXtyZXR1cm4gcCtxO30KCXJldHVybiBwOwp9CmJvb2wgYWN0aW9uIGluc2lkZShudW0gaW5kZXgpewoJcmV0dXJuIGluZGV4ID49IDAgJiYgaW5kZXggPCAxNjsKfQphY3Rpb24gc2VlX18oKXsKCWZvcihudW0gaSA9IDA7IGkgPCAxNjsgaSsrKXsKCQlmb3IobnVtIGogPSAwOyBqIDwgMTY7IGorKyl7CgkJCWZvcihudW0gayA9IDA7IGsgPCAxNjsgaysrKXsKCQkJCWlmKCFibG9ja1tpXVtqXVtrXSAmJiBjaHVua1tpXVtqXVtrXSl7CgkJCQkJYmxvY2tbaV1bal1ba10gPSB0cnVlOwoJCQkJCWFkZFRvIGN1YmVzIEdBTUUuU0NFTkUuYWRkQ3ViZSh0ZXh0dXJlc1tibG9ja3NbaV1bal1ba10gLSAxXSwgIiNmZmYiLCA2ICogaSAtIDQ1LCA2ICogaiwgNiAqIGsgLSA0NSwgNiwgNiwgNiwge3RleHR1cmVTY2FsZTogMTB9KTsKCQkJCX0KCQkJfQoJCX0KCX0KfQphY3Rpb24gc2VlKG9iaiBwKXsKCWJvb2xbXVtdW10gdGhyb3VnaCA9IGJvb2xbXVtdW107Cglmb3IobnVtIGkgPSAwOyBpIDwgMTY7IGkrKyl7CgkJYWRkVG8gdGhyb3VnaCBib29sW11bXTsKCQlmb3IobnVtIGogPSAwOyBqIDwgMTY7IGorKyl7CgkJCWFkZFRvIHRocm91Z2hbaV0gYm9vbFtdOwoJCQlmb3IobnVtIGsgPSAwOyBrIDwgMTY7IGsrKyl7CgkJCQlhZGRUbyB0aHJvdWdoW2ldW2pdIGZhbHNlOwoJCQl9CgkJfQoJfQoJdGhyb3VnaFsobnVtKSBwLnhdWyhudW0pIHAueV1bKG51bSkgcC56XSA9IHRydWU7Cglmb3IobnVtIHQgPSAwOyB0IDwgODsgdCsrKXsKCQludW0gYTEgPSAtMSArIDIgKiAodCAmIDEpOwoJCW51bSBhMiA9IC0xICsgMiAqICh0ICYgMikgLyAyOwoJCW51bSBhMyA9IC0xICsgMiAqICh0ICYgNCkgLyA0OwoJCWZvcihudW0gaSA9IChudW0pIHAueDsgaW5zaWRlKGkpOyBpKz0gYTEpewoJCQlmb3IobnVtIGogPSAobnVtKSBwLnk7IGluc2lkZShqKTsgais9IGEyKXsKCQkJCWZvcihudW0gayA9IChudW0pIHAuejsgaW5zaWRlKGspOyBrKz0gYTMpewoJCQkJCWlmKGkgIT0gKG51bSkgcC54ICYmIHRocm91Z2hbaS1hMV1bal1ba10gJiYgIWNodW5rW2ktYTFdW2pdW2tdKXt0aHJvdWdoW2ldW2pdW2tdID0gdHJ1ZTt9CgkJCQkJaWYoaiAhPSAobnVtKSBwLnkgJiYgdGhyb3VnaFtpXVtqLWEyXVtrXSAmJiAhY2h1bmtbaV1bai1hMl1ba10pe3Rocm91Z2hbaV1bal1ba10gPSB0cnVlO30KCQkJCQlpZihrICE9IChudW0pIHAueiAmJiB0aHJvdWdoW2ldW2pdW2stYTNdICYmICFjaHVua1tpXVtqXVtrLWEzXSl7dGhyb3VnaFtpXVtqXVtrXSA9IHRydWU7fQoJCQkJfQoJCQl9CgkJfQoJfQoJZm9yKG51bSBpID0gMDsgaSA8IDE2OyBpKyspewoJCWZvcihudW0gaiA9IDA7IGogPCAxNjsgaisrKXsKCQkJZm9yKG51bSBrID0gMDsgayA8IDE2OyBrKyspewoJCQkJaWYodGhyb3VnaFtpXVtqXVtrXSAmJiBibG9ja1tpXVtqXVtrXSl7Y29udGludWU7fQoJCQkJaWYoIWNodW5rW2ldW2pdW2tdKXtjb250aW51ZTt9CgkJCQlpZih0aHJvdWdoW2ldW2pdW2tdICYmICFibG9ja1tpXVtqXVtrXSl7CgkJCQkJYmxvY2tbaV1bal1ba10gPSB0cnVlOwoJCQkJCWFkZFRvIGN1YmVzIEdBTUUuU0NFTkUuYWRkQ3ViZSh0ZXh0dXJlc1tibG9ja3NbaV1bal1ba10gLSAxXSwgIiNmZmYiLCA2ICogaSAtIDQ1LCA2ICogaiwgNiAqIGsgLSA0NSwgNiwgNiwgNiwge3RleHR1cmVTY2FsZTogMTB9KTsKCQkJCX0KCQkJCWlmKCF0aHJvdWdoW2ldW2pdW2tdICYmIGJsb2NrW2ldW2pdW2tdKXsKCQkJCQlibG9ja1tpXVtqXVtrXSA9IGZhbHNlOwoJCQkJCWZvcihudW0gdCA9IDA7IHQgPCBsZW5ndGhPZiBjdWJlczsgdCsrKXsKCQkJCQkJaWYoKG51bSkgY3ViZXNbdF0ucG9zaXRpb24ueCA9PSA2ICogaSAtIDQ1ICYmIChudW0pIGN1YmVzW3RdLnBvc2l0aW9uLnkgPT0gNiAqIGogJiYgKG51bSkgY3ViZXNbdF0ucG9zaXRpb24ueiA9PSA2ICogayAtIDQ1KXsKCQkJCQkJCWN1YmVzW3RdLmRlbGV0ZSgpOwoJCQkJCQkJcmVtb3ZlIGN1YmVzW3RdOwoJCQkJCQl9CgkJCQkJfQoJCQkJfQoJCQl9CgkJfQoJfQp9CmFjdGlvbiBzZWVfKG9iaiBwKXsKCWJvb2xbXVtdW10gdGhyb3VnaCA9IGJvb2xbXVtdW107Cglmb3IobnVtIGkgPSAwOyBpIDwgMTY7IGkrKyl7CgkJYWRkVG8gdGhyb3VnaCBib29sW11bXTsKCQlmb3IobnVtIGogPSAwOyBqIDwgMTY7IGorKyl7CgkJCWFkZFRvIHRocm91Z2hbaV0gYm9vbFtdOwoJCQlmb3IobnVtIGsgPSAwOyBrIDwgMTY7IGsrKyl7CgkJCQlhZGRUbyB0aHJvdWdoW2ldW2pdIGZhbHNlOwoJCQl9CgkJfQoJfQoJZm9yKG51bSBpID0gMDsgaSA8IDI1NjsgaSsrKXsKCQl0aHJvdWdoW2kgJSAxNl1bMTVdW01hdGguZmxvb3IoaSAvIDE2KV0gPSB0cnVlOwoJfQoJZm9yKG51bSB0ID0gMDsgdCA8IDQ7IHQrKyl7CgkJbnVtIGExID0gLTEgKyAyICogKHQgJiAxKTsKCQludW0gYTIgPSAtMTsKCQludW0gYTMgPSAtMSArIDIgKiAodCAmIDIpIC8gMjsKCQlmb3IobnVtIGkgPSAobnVtKSBwLng7IGluc2lkZShpKTsgaSs9IGExKXsKCQkJZm9yKG51bSBqID0gMTU7IGogPj0gMDsgais9IGEyKXsKCQkJCWZvcihudW0gayA9IChudW0pIHAuejsgaW5zaWRlKGspOyBrKz0gYTMpewoJCQkJCWlmKGkgIT0gKG51bSkgcC54ICYmIHRocm91Z2hbaS1hMV1bal1ba10gJiYgIWNodW5rW2ktYTFdW2pdW2tdKXt0aHJvdWdoW2ldW2pdW2tdID0gdHJ1ZTt9CgkJCQkJaWYoaiAhPSAxNSAmJiB0aHJvdWdoW2ldW2otYTJdW2tdICYmICFjaHVua1tpXVtqLWEyXVtrXSl7dGhyb3VnaFtpXVtqXVtrXSA9IHRydWU7fQoJCQkJCWlmKGsgIT0gKG51bSkgcC56ICYmIHRocm91Z2hbaV1bal1bay1hM10gJiYgIWNodW5rW2ldW2pdW2stYTNdKXt0aHJvdWdoW2ldW2pdW2tdID0gdHJ1ZTt9CgkJCQl9CgkJCX0KCQl9Cgl9Cglmb3IobnVtIGkgPSAwOyBpIDwgMTY7IGkrKyl7CgkJZm9yKG51bSBqID0gMDsgaiA8IDE2OyBqKyspewoJCQlmb3IobnVtIGsgPSAwOyBrIDwgMTY7IGsrKyl7CgkJCQlpZih0aHJvdWdoW2ldW2pdW2tdICYmIGJsb2NrW2ldW2pdW2tdKXtjb250aW51ZTt9CgkJCQlpZighY2h1bmtbaV1bal1ba10pe2NvbnRpbnVlO30KCQkJCWlmKHRocm91Z2hbaV1bal1ba10gJiYgIWJsb2NrW2ldW2pdW2tdKXsKCQkJCQlibG9ja1tpXVtqXVtrXSA9IHRydWU7CgkJCQkJYWRkVG8gY3ViZXMgR0FNRS5TQ0VORS5hZGRDdWJlKHRleHR1cmVzW2Jsb2Nrc1tpXVtqXVtrXSAtIDFdLCAiI2ZmZiIsIDYgKiBpIC0gNDUsIDYgKiBqLCA2ICogayAtIDQ1LCA2LCA2LCA2LCB7dGV4dHVyZVNjYWxlOiAxMH0pOwoJCQkJfQoJCQkJaWYoIXRocm91Z2hbaV1bal1ba10gJiYgYmxvY2tbaV1bal1ba10pewoJCQkJCWJsb2NrW2ldW2pdW2tdID0gZmFsc2U7CgkJCQkJZm9yKG51bSB0ID0gMDsgdCA8IGxlbmd0aE9mIGN1YmVzOyB0KyspewoJCQkJCQlpZigobnVtKSBjdWJlc1t0XS5wb3NpdGlvbi54ID09IDYgKiBpIC0gNDUgJiYgKG51bSkgY3ViZXNbdF0ucG9zaXRpb24ueSA9PSA2ICogaiAmJiAobnVtKSBjdWJlc1t0XS5wb3NpdGlvbi56ID09IDYgKiBrIC0gNDUpewoJCQkJCQkJY3ViZXNbdF0uZGVsZXRlKCk7CgkJCQkJCQlyZW1vdmUgY3ViZXNbdF07CgkJCQkJCX0KCQkJCQl9CgkJCQl9CgkJCX0KCQl9Cgl9Cn0KbnVtIGFjdGlvbiBzaWRlKG51bSBwLCBudW0gYywgbnVtIHMpewoJaWYocCArIHMgLyAyIDwgYyl7cmV0dXJuIC0xO30KCWlmKHAgLSBzIC8gMiA+IGMpe3JldHVybiAxO30KCXJldHVybiAwOwp9CmJvb2wgYWN0aW9uIGhpdChvYmogcCwgb2JqIHIsIG9iaiBjLCBvYmogcywgc3RyIGQpewoJb2JqIFAgPSB7eDogMCwgeTogMCwgejogMH07CglpZihkID09ICJ4Iil7UC54ID0gKG51bSkgYy54O30KCWlmKGQgPT0gInkiKXtQLnkgPSAobnVtKSBjLnk7fQoJaWYoZCA9PSAieiIpe1AueiA9IChudW0pIGMuejt9CglpZihkID09ICJ4Iil7CgkJUC55ID0gKG51bSkgcC55ICsgKChudW0pIHAueCAtIChudW0pIGMueCkgKiBNYXRoLnRhbigobnVtKSByLnkpIC8gTWF0aC5zaW4oKG51bSkgci54KTsKCQlQLnogPSAobnVtKSBwLnogKyAoKG51bSkgcC54IC0gKG51bSkgYy54KSAqIE1hdGgudGFuKChudW0pIHIueCAtIE1hdGguUEkgLyAyKTsKCQlpZihNYXRoLmFicygobnVtKSBQLnkgLSAobnVtKSBjLnkpIDwgKG51bSkgcy55IC8gMiAmJiBNYXRoLmFicygobnVtKSBQLnogLSAobnVtKSBjLnopIDwgKG51bSkgcy56IC8gMil7cmV0dXJuIHRydWU7fQogCX0KCWlmKGQgPT0gInkiKXsKCQlQLnogPSAobnVtKSBwLnogKyAoKG51bSkgcC55IC0gKG51bSkgYy55KSAvIE1hdGgudGFuKChudW0pIHIueSkgKiBNYXRoLmNvcygobnVtKSByLngpOwoJCVAueCA9IChudW0pIHAueCArICgobnVtKSBwLnkgLSAobnVtKSBjLnkpIC8gTWF0aC50YW4oKG51bSkgci55KSAqIE1hdGguc2luKChudW0pIHIueCk7CgkJaWYoTWF0aC5hYnMoKG51bSkgUC56IC0gKG51bSkgYy56KSA8IChudW0pIHMueiAvIDIgJiYgTWF0aC5hYnMoKG51bSkgUC54IC0gKG51bSkgYy54KSA8IChudW0pIHMueCAvIDIpe3JldHVybiB0cnVlO30KCX0KCWlmKGQgPT0gInoiKXsKCQlQLnggPSAobnVtKSBwLnggKyAoKG51bSkgcC56IC0gKG51bSkgYy56KSAqIC1NYXRoLnRhbigobnVtKSByLngpOwoJCVAueSA9IChudW0pIHAueSArICgobnVtKSBwLnogLSAobnVtKSBjLnopICogTWF0aC50YW4oKG51bSkgci55KSAvIE1hdGguY29zKChudW0pIHIueCk7CgkJaWYoTWF0aC5hYnMoKG51bSkgUC54IC0gKG51bSkgYy54KSA8IChudW0pIHMueCAvIDIgJiYgTWF0aC5hYnMoKG51bSkgUC55IC0gKG51bSkgYy55KSA8IChudW0pIHMueSAvIDIpe3JldHVybiB0cnVlO30KIAl9CglyZXR1cm4gZmFsc2U7Cn0Kb2JqIGFjdGlvbiBsb29rKG9iaiBwLCBvYmogciwgb2JqIGMsIG9iaiBzKXsKCXN0ciBzdGFydCA9ICIiOwoJc3RyIGVuZCA9ICIiOwoJYm9vbCBMID0gZmFsc2U7CgludW0geF8gPSAwOwoJaWYoTWF0aC5zaW4oKG51bSkgci54KSA+PSAwKXt4XyA9IDE7fQoJbnVtIHlfID0gMDsKCWlmKChudW0pIHIueSA8PSAwKXt5XyA9IDE7fQoJbnVtIHpfID0gMDsKCWlmKE1hdGguY29zKChudW0pIHIueCkgPj0gMCl7el8gPSAxO30KCSNpZigoeF8gPT0gMCkgPT0gKChudW0pIHAueCA+PSAobnVtKSBjLngpICYmICh5XyA9PSAwKSA9PSAoKG51bSkgcC55ID49IChudW0pIGMueSkgJiYgKHpfID09IDApID09ICgobnVtKSBwLnogPj0gKG51bSkgYy56KSl7cmV0dXJuIHt9O30KCWlmKGhpdChwLCByLCB7eDogKG51bSkgYy54IC0gKG51bSkgcy54IC8gMiArIHhfICogKG51bSkgcy54LCB5OiBjLnksIHo6IGMuen0sIHMsICJ4IikgJiYgc2lkZSgobnVtKSBwLngsIChudW0pIGMueCwgKG51bSkgcy54KSAhPSAwICYmICgoeF8gPT0gMCkgIT0gKChudW0pIHAueCA+PSAobnVtKSBjLngpKSl7TCA9IHRydWU7IHN0YXJ0ID0gIngiO30KCWlmKGhpdChwLCByLCB7eDogYy54LCB5OiAobnVtKSBjLnkgLSAobnVtKSBzLnkgLyAyICsgeV8gKiAobnVtKSBzLnksIHo6IGMuen0sIHMsICJ5IikgJiYgc2lkZSgobnVtKSBwLnksIChudW0pIGMueSwgKG51bSkgcy55KSAhPSAwICYmICgoeV8gPT0gMCkgIT0gKChudW0pIHAueSA+PSAobnVtKSBjLnkpKSl7TCA9IHRydWU7IHN0YXJ0ID0gInkiO30KCWlmKGhpdChwLCByLCB7eDogYy54LCB5OiBjLnksIHo6IChudW0pIGMueiAtIChudW0pIHMueiAvIDIgKyB6XyAqIChudW0pIHMuen0sIHMsICJ6IikgJiYgc2lkZSgobnVtKSBwLnosIChudW0pIGMueiwgKG51bSkgcy56KSAhPSAwICYmICgoel8gPT0gMCkgIT0gKChudW0pIHAueiA+PSAobnVtKSBjLnopKSl7TCA9IHRydWU7IHN0YXJ0ID0gInoiO30KCWlmKGhpdChwLCByLCB7eDogKG51bSkgYy54ICsgKG51bSkgcy54IC8gMiAtIHhfICogKG51bSkgcy54LCB5OiBjLnksIHo6IGMuen0sIHMsICJ4Iikpe0wgPSB0cnVlOyBlbmQgPSAieCI7fQoJaWYoaGl0KHAsIHIsIHt4OiBjLngsIHk6IChudW0pIGMueSArIChudW0pIHMueSAvIDIgLSB5XyAqIChudW0pIHMueSwgejogYy56fSwgcywgInkiKSl7TCA9IHRydWU7IGVuZCA9ICJ5Ijt9CglpZihoaXQocCwgciwge3g6IGMueCwgeTogYy55LCB6OiAobnVtKSBjLnogKyAobnVtKSBzLnogLyAyIC0gel8gKiAobnVtKSBzLnp9LCBzLCAieiIpKXtMID0gdHJ1ZTsgZW5kID0gInoiO30KCXJldHVybiB7bG9va2luZzogTCwgc3RhcnQ6IHN0YXJ0LCBlbmQ6IGVuZH07Cn0Kb2JqIGFjdGlvbiBwbGFjZShvYmogcCwgb2JqIHIpewoJb2JqIHBsYXllciA9IEdBTUUuUExBWUVSUy5nZXRTZWxmKCk7CgludW0gZCA9IDgwMDsKCW51bSB4ID0gMDsKCW51bSB5ID0gLTI7CgludW0geiA9IDA7Cglmb3IobnVtIGkgPSAwOyBpIDwgbGVuZ3RoT2YgY3ViZXM7IGkrKyl7CgkJKG51bSkgY3ViZXNbaV0ucG9zaXRpb24ueSArPSAobnVtKSBjdWJlc1tpXS5zY2FsZS55IC8gMjsKCQlpZigoYm9vbCkgbG9vayhwLCByLCAob2JqKSBjdWJlc1tpXS5wb3NpdGlvbiwgKG9iaikgY3ViZXNbaV0uc2NhbGUpLmxvb2tpbmcpewoJCQludW0gZF8gPSBNYXRoLnBvdyhNYXRoLmZsb29yKChudW0pIHAueCAvIDYpIC0gTWF0aC5mbG9vcigobnVtKSBjdWJlc1tpXS5wb3NpdGlvbi54IC8gNiksIDIpICsgCgkJCU1hdGgucG93KE1hdGguZmxvb3IoKG51bSkgcC55IC8gNikgLSBNYXRoLmZsb29yKChudW0pIGN1YmVzW2ldLnBvc2l0aW9uLnkgLyA2KSwgMikgKyAKCQkJTWF0aC5wb3coTWF0aC5mbG9vcigobnVtKSBwLnogLyA2KSAtIE1hdGguZmxvb3IoKG51bSkgY3ViZXNbaV0ucG9zaXRpb24ueiAvIDYpLCAyKTsKCQkJaWYoZF8gPCBkKXsKCQkJCWQgPSAwOwoJCQkJZCArPSBkXzsKCQkJCXggPSBNYXRoLmZsb29yKChudW0pIGN1YmVzW2ldLnBvc2l0aW9uLnggLyA2KSArIDg7CgkJCQl5ID0gTWF0aC5mbG9vcigobnVtKSBjdWJlc1tpXS5wb3NpdGlvbi55IC8gNik7CgkJCQl6ID0gTWF0aC5mbG9vcigobnVtKSBjdWJlc1tpXS5wb3NpdGlvbi56IC8gNikgKyA4OwoJCQl9CgkJfQoJCShudW0pIGN1YmVzW2ldLnBvc2l0aW9uLnkgLT0gKG51bSkgY3ViZXNbaV0uc2NhbGUueSAvIDI7Cgl9CglpZihkID09IDgwMCl7CgkJbnVtIHhfID0gTWF0aC5mbG9vcigoKG51bSkgcGxheWVyLnBvc2l0aW9uLnggKyAobnVtKSBHQU1FLkNBTUVSQS5wb3NpdGlvbi55IC8gTWF0aC50YW4oKG51bSkgcGxheWVyLnJvdGF0aW9uLnkpICogTWF0aC5zaW4oKG51bSkgcGxheWVyLnJvdGF0aW9uLngpICsgNDgpIC8gNik7CgkJbnVtIHpfID0gTWF0aC5mbG9vcigoKG51bSkgcGxheWVyLnBvc2l0aW9uLnogKyAobnVtKSBHQU1FLkNBTUVSQS5wb3NpdGlvbi55IC8gTWF0aC50YW4oKG51bSkgcGxheWVyLnJvdGF0aW9uLnkpICogTWF0aC5jb3MoKG51bSkgcGxheWVyLnJvdGF0aW9uLngpICsgNDgpIC8gNik7CgkJaWYoaW5zaWRlKHhfKSAmJiBpbnNpZGUoel8pKXsKCQkJZCA9IDA7CgkJCXggPSAobnVtKSB4XzsKCQkJeSA9IC0xOwoJCQl6ID0gKG51bSkgel87CgkJfQoJfQoJcmV0dXJuIHtjYW46IGQgIT0gODAwLHg6eCx5Onksejp6LGQ6ZH07Cn0KcHVibGljIGFjdGlvbiBzdGFydCgpIHsKCWZvcihudW0gaSA9IDA7IGkgPCAxMDAwMDsgaSsrKXsKCQlhZGRUbyBIIDA7Cgl9Cglmb3IobnVtIGkgPSAwOyBpIDwgNDsgaSsrKXsKCQlhZGRUbyBjdWJlIEdBTUUuU0NFTkUuYWRkQ3ViZSgiIiwgIiMwMDAiLCAwLCAwLCAwLCA2LjEsIDAuMSwgMC4xKTsKCQlhZGRUbyBjdWJlIEdBTUUuU0NFTkUuYWRkQ3ViZSgiIiwgIiMwMDAiLCAwLCAwLCAwLCAwLjEsIDYuMSwgMC4xKTsKCQlhZGRUbyBjdWJlIEdBTUUuU0NFTkUuYWRkQ3ViZSgiIiwgIiMwMDAiLCAwLCAwLCAwLCAwLjEsIDAuMSwgNi4xKTsKCX0KCWZvcihudW0gaSA9IDA7IGkgPCAxNjsgaSsrKXsKCQlhZGRUbyBjaHVuayBib29sW11bXTsKCQlhZGRUbyBibG9jayBib29sW11bXTsKCQlhZGRUbyBibG9ja3MgbnVtW11bXTsKCQlmb3IobnVtIGogPSAwOyBqIDwgMTY7IGorKyl7CgkJCWFkZFRvIGNodW5rW2ldIGJvb2xbXTsKCQkJYWRkVG8gYmxvY2tbaV0gYm9vbFtdOwoJCQlhZGRUbyBibG9ja3NbaV0gbnVtW107CgkJCWZvcihudW0gayA9IDA7IGsgPCAxNjsgaysrKXsKCQkJCWFkZFRvIGNodW5rW2ldW2pdIGZhbHNlOwoJCQkJYWRkVG8gYmxvY2tbaV1bal0gZmFsc2U7CgkJCQlhZGRUbyBibG9ja3NbaV1bal0gMDsKCQkJfQoJCX0KCX0KfQoKIyBSdW5zIGV2ZXJ5IGdhbWUgdGljawpwdWJsaWMgYWN0aW9uIHVwZGF0ZShudW0gZGVsdGEpIHsKCn0KCiMgQWRkIHJlbmRlcmluZyBsb2dpYyBpbiBoZXJlCnB1YmxpYyBhY3Rpb24gcmVuZGVyKG51bSBkZWx0YSkgewoJb2JqIHBsYXllciA9IEdBTUUuUExBWUVSUy5nZXRTZWxmKCk7CgludW0gd18gPSAobnVtKSBHQU1FLk9WRVJMQVkuZ2V0U2l6ZSgpLndpZHRoIC8gMjsKCWJvb2wgUiA9IGZhbHNlOwoJZm9yKG51bSBpID0gMDsgaSA8IGxlbmd0aE9mIGN1YmVzOyBpKyspewoJCShudW0pIGN1YmVzW2ldLnBvc2l0aW9uLnkgKz0gKG51bSkgY3ViZXNbaV0uc2NhbGUueSAvIDI7CgkJaWYoKGJvb2wpIGxvb2soe3g6IHBsYXllci5wb3NpdGlvbi54LCB5OiBHQU1FLkNBTUVSQS5wb3NpdGlvbi55LCB6OiBwbGF5ZXIucG9zaXRpb24uen0sIChvYmopIHBsYXllci5yb3RhdGlvbiwgKG9iaikgY3ViZXNbaV0ucG9zaXRpb24sIChvYmopIGN1YmVzW2ldLnNjYWxlKS5sb29raW5nKXsKCQkJUiA9IHRydWU7CgkJfQoJCShudW0pIGN1YmVzW2ldLnBvc2l0aW9uLnkgLT0gKG51bSkgY3ViZXNbaV0uc2NhbGUueSAvIDI7Cgl9CglpZihSKXsKCQkjR0FNRS5PVkVSTEFZLmRyYXdUZXh0KCJsb29raW5nIiwgMjAwLCAyMDAsIDAsIDUwLCAibGVmdCIsICIjMDBmIiwgMSk7Cgl9CgkjR0FNRS5PVkVSTEFZLmRyYXdUZXh0KCJwb3NpdGlvbjogIiArIHRvU3RyIFggKyAiLCAiICsgdG9TdHIgWSArICIsICIgKyB0b1N0ciBaLCAyMDAsIDIwMCwgMCwgNTAsICJsZWZ0IiwgIiMwMDAiLCAxKTsKCSNpZihjb29sZG93biA8IDI1MCl7CgkjCUdBTUUuT1ZFUkxBWS5kcmF3UmVjdCgyMDAsIDI1MCwgMjYwLCA2MCwgMCwgIiMwMDAiLCAxKTsKCSMJR0FNRS5PVkVSTEFZLmRyYXdSZWN0KDIwNSwgMjU1LCBjb29sZG93biwgNTAsIDAsICIjZmZmIiwgMSk7CgkjfQoJaWYoYWRqdXN0Xyl7CgkJR0FNRS5PVkVSTEFZLmRyYXdUZXh0KCJsYWcgYWRqdXN0bWVudDogb24iLCAobnVtKSB3XywgNTAsIDAsIDIwLCAiY2VudGVyIiwgIiMwZjAiLCAxKTsKCX0KCWVsc2V7CgkJR0FNRS5PVkVSTEFZLmRyYXdUZXh0KCJsYWcgYWRqdXN0bWVudDogb2ZmIiwgd18sIDUwLCAwLCAyMCwgImNlbnRlciIsICIjZjAwIiwgMSk7Cgl9CglHQU1FLk9WRVJMQVkuZHJhd1RleHQoInVzZSBtaWRkbGUgY2xpY2sgdG8gdG9nZ2xlIGxhZyBhZGp1c3RtZW50Iiwgd18sIDEwMCwgMCwgMjAsICJjZW50ZXIiLCAiIzAwMCIsIDEpOwoJR0FNRS5PVkVSTEFZLmRyYXdUZXh0KCJpZiB5b3UgYXJlIHN0dWNrIG9yIGJsb2NrcyBzZWVtIGdsaXRjaHksIHJlc2V0IChkZWZhdWx0IGtleWJpbmQgaXMgYikiLCB3XywgMTUwLCAwLCAyMCwgImNlbnRlciIsICIjMDAwIiwgMSk7CgkjR0FNRS5PVkVSTEFZLmRyYXdUZXh0KCJibG9jayBzZWxlY3RlZDogIiArIHRvU3RyIChhZGp1c3Qoc2VsZWN0ICUgOSwgOSkgKyAxKSwgMjAwLCA0MDAsIDAsIDUwLCAibGVmdCIsICIjMDAwIiwgMSk7CglHQU1FLk9WRVJMQVkuZHJhd1JlY3Qod18sIChudW0pIEdBTUUuT1ZFUkxBWS5nZXRTaXplKCkuaGVpZ2h0IC0gMTAwLCA5OTAsIDExMCwgMCwgIiM5OTkiLCAxLCB0cnVlKTsKCUdBTUUuT1ZFUkxBWS5kcmF3UmVjdCh3XyArIDExMCAqIGFkanVzdChzZWxlY3QgJSA5LCA5KSAtIDQ0MCwgKG51bSkgR0FNRS5PVkVSTEFZLmdldFNpemUoKS5oZWlnaHQgLSAxMDAsIDEyMCwgMTIwLCAwLCAiI2ZmZiIsIDEsIHRydWUpOwoJZm9yKG51bSBpID0gLTQ7IGkgPD0gNDsgaSsrKXsKCQlHQU1FLk9WRVJMQVkuZHJhd1JlY3Qod18gKyAxMTAgKiBpLCAobnVtKSBHQU1FLk9WRVJMQVkuZ2V0U2l6ZSgpLmhlaWdodCAtIDEwMCwgMTAwLCAxMDAsIDAsICIjMDAwIiwgMSwgdHJ1ZSk7CgkJR0FNRS5PVkVSTEFZLmRyYXdJbWFnZSh0ZXh0dXJlc1tpICsgNF0sIHdfICsgMTEwICogaSwgKG51bSkgR0FNRS5PVkVSTEFZLmdldFNpemUoKS5oZWlnaHQgLSAxMDAsIDkwLCA5MCwgMCwgMSk7Cgl9CgkjR0FNRS5PVkVSTEFZLmRyYXdUZXh0KCJpbnZlbnRvcnkgcGxhY2Vob2xkZXIiLCAobnVtKSBHQU1FLk9WRVJMQVkuZ2V0U2l6ZSgpLndpZHRoIC8gMiwgKG51bSkgR0FNRS5PVkVSTEFZLmdldFNpemUoKS5oZWlnaHQgLSAxMDAsIDAsIDUwLCAiY2VudGVyIiwgIiMwMDAiLCAxKTsKfQoKIyBQbGF5ZXIgc3Bhd25zIGluCnB1YmxpYyBhY3Rpb24gb25QbGF5ZXJTcGF3bihzdHIgaWQpIHsKCn0KCiMgUGxheWVyIGRpZWQKcHVibGljIGFjdGlvbiBvblBsYXllckRlYXRoKHN0ciBpZCwgc3RyIGtpbGxlcklEKSB7Cgp9CgojIFBsYXllciB1cGRhdGUKcHVibGljIGFjdGlvbiBvblBsYXllclVwZGF0ZShzdHIgaWQsIG51bSBkZWx0YSwgb2JqIGlucHV0cykge3RpY2tzKys7Cgljb3VudCsrOwoJSFt0aWNrcyAlIDEwMDAwXSA9IGRlbHRhOwoJVCArPSBIW3RpY2tzICUgMTAwMDBdOwoJd2hpbGUoVCA+IDEwMDApewoJCWNvdW50LS07CgkJVCAtPSBIWyh0aWNrcyAtIGNvdW50KSAlIDEwMDAwXTsKCX0KCSNjb3VudCBpcyBmcHMgbWVhc3VyZWQgYnkga3J1bmtzY3JpcHQKCW51bSBoID0gMDsKCWlmKChib29sKSBpbnB1dHMuY3JvdWNoKXtoICs9IGM7fQoJZWxzZXtoICs9IGhfO30KCWNvb2xkb3duICs9IGRlbHRhOwoJb2JqIHBsYXllciA9IEdBTUUuUExBWUVSUy5nZXRTZWxmKCk7CglvYmogUCA9IHBsYWNlKHt4OiBwbGF5ZXIucG9zaXRpb24ueCwgeTogR0FNRS5DQU1FUkEucG9zaXRpb24ueSwgejogcGxheWVyLnBvc2l0aW9uLnp9LCAob2JqKSBwbGF5ZXIucm90YXRpb24pOwoJZm9yKG51bSBpID0gMTsgaSA8PSA0OyBpKyspewoJCW51bSBhMSA9IDMgKiAoLTEgKyAyICogKGkgJiAxKSk7CgkJbnVtIGEyID0gMyAqICgtMSArIChpICYgMikpOwoJCWN1YmVbMyAqIGkgLSAxXS5wb3NpdGlvbi54ID0gKG51bSkgUC54ICogNiAtIDQ1ICsgYTE7CgkJY3ViZVszICogaSAtIDFdLnBvc2l0aW9uLnkgPSAobnVtKSBQLnkgKiA2IC0gMC4wNSArIGEyICsgMzsKCQljdWJlWzMgKiBpIC0gMV0ucG9zaXRpb24ueiA9IChudW0pIFAueiAqIDYgLSA0NTsKCQljdWJlWzMgKiBpIC0gMl0ucG9zaXRpb24ueCA9IChudW0pIFAueCAqIDYgLSA0NSArIGExOwoJCWN1YmVbMyAqIGkgLSAyXS5wb3NpdGlvbi55ID0gKG51bSkgUC55ICogNiAtIDAuMDU7CgkJY3ViZVszICogaSAtIDJdLnBvc2l0aW9uLnogPSAobnVtKSBQLnogKiA2IC0gNDUgKyBhMjsKCQljdWJlWzMgKiBpIC0gM10ucG9zaXRpb24ueCA9IChudW0pIFAueCAqIDYgLSA0NTsKCQljdWJlWzMgKiBpIC0gM10ucG9zaXRpb24ueSA9IChudW0pIFAueSAqIDYgLSAwLjA1ICsgYTEgKyAzOwoJCWN1YmVbMyAqIGkgLSAzXS5wb3NpdGlvbi56ID0gKG51bSkgUC56ICogNiAtIDQ1ICsgYTI7Cgl9CglYID0gTWF0aC5mbG9vcigobnVtKSBwbGF5ZXIucG9zaXRpb24ueCAvIDYpICsgODsKCVkgPSBNYXRoLmZsb29yKChudW0pIHBsYXllci5wb3NpdGlvbi55IC8gNik7CglaID0gTWF0aC5mbG9vcigobnVtKSBwbGF5ZXIucG9zaXRpb24ueiAvIDYpICsgODsKCWlmKGFkanVzdF8gJiYgKE9YICE9IFggfHwgT1kgIT0gTWF0aC5mbG9vcihHQU1FLkNBTUVSQS5wb3NpdGlvbi55IC8gNikgfHwgT1ogIT0gWiB8fCAhbGFzdEFkanVzdCkpewoJCWlmKGluc2lkZShNYXRoLmZsb29yKChudW0pIHBsYXllci5wb3NpdGlvbi54IC8gNikgKyA4KSAmJiBpbnNpZGUoTWF0aC5mbG9vcigobnVtKSBHQU1FLkNBTUVSQS5wb3NpdGlvbi55IC8gNikpICYmIGluc2lkZShNYXRoLmZsb29yKChudW0pIHBsYXllci5wb3NpdGlvbi56IC8gNikgKyA4KSl7CgkJCXNlZSh7eDogTWF0aC5mbG9vcigobnVtKSBwbGF5ZXIucG9zaXRpb24ueCAvIDYpICsgOCwgeTogTWF0aC5mbG9vcigobnVtKSBHQU1FLkNBTUVSQS5wb3NpdGlvbi55IC8gNiksIHo6IE1hdGguZmxvb3IoKG51bSkgcGxheWVyLnBvc2l0aW9uLnogLyA2KSArIDh9KTsKCQl9CgkJaWYoaW5zaWRlKE1hdGguZmxvb3IoKG51bSkgcGxheWVyLnBvc2l0aW9uLnggLyA2KSArIDgpICYmICFpbnNpZGUoTWF0aC5mbG9vcigobnVtKSBHQU1FLkNBTUVSQS5wb3NpdGlvbi55IC8gNikpICYmIGluc2lkZShNYXRoLmZsb29yKChudW0pIHBsYXllci5wb3NpdGlvbi56IC8gNikgKyA4KSl7CgkJCXNlZV8oe3g6IE1hdGguZmxvb3IoKG51bSkgcGxheWVyLnBvc2l0aW9uLnggLyA2KSArIDgsIHk6IE1hdGguZmxvb3IoKG51bSkgR0FNRS5DQU1FUkEucG9zaXRpb24ueSAvIDYpLCB6OiBNYXRoLmZsb29yKChudW0pIHBsYXllci5wb3NpdGlvbi56IC8gNikgKyA4fSk7CgkJfQoJfQoJaWYoIWFkanVzdF8gJiYgbGFzdEFkanVzdCl7CgkJc2VlX18oKTsKCX0KCWlmKGxvYWRpbmcpewoJCWlmKChudW0pIHBsYXllci5wb3NpdGlvbi55IDwgMjAwKXsKCQkJcGxheWVyLnBvc2l0aW9uLnkgPSAyMDA7CgkJCXBsYXllci52ZWxvY2l0eS55ID0gMDsKCQkJcGxheWVyLm9uR3JvdW5kID0gdHJ1ZTsKCQl9Cgl9CglpZihpbnNpZGUoWCkgJiYgaW5zaWRlKFkpICYmIGluc2lkZShaKSl7CgkJaWYoaW5zaWRlKFgtMSkgJiYgKGNodW5rW1gtMV1bWV1bWl0gfHwgKGluc2lkZShZKzEpICYmIGNodW5rW1gtMV1bWSsxXVtaXSkgfHwgKChudW0pIHBsYXllci5wb3NpdGlvbi55ICUgNiA+ICgxMiAtIGgpICUgNiAmJiBpbnNpZGUoWSsyKSAmJiBjaHVua1tYLTFdW1krMl1bWl0pKSAmJiAobnVtKSBwbGF5ZXIucG9zaXRpb24ueCA8IDYgKiBYIC0gNDggKyB3IC8gMiAmJiBveCA+PSA2ICogWCAtIDQ4ICsgdyAvIDIpewoJCQlwbGF5ZXIucG9zaXRpb24ueCA9IFggKiA2IC0gNDggKyB3IC8gMjsKCQkJcGxheWVyLnZlbG9jaXR5LnggPSAwOwoJCQlwbGF5ZXIub25XYWxsID0gdHJ1ZTsKCQl9CgkJaWYoaW5zaWRlKFgrMSkgJiYgKGNodW5rW1grMV1bWV1bWl0gfHwgKGluc2lkZShZKzEpICYmIGNodW5rW1grMV1bWSsxXVtaXSkgfHwgKChudW0pIHBsYXllci5wb3NpdGlvbi55ICUgNiA+ICgxMiAtIGgpICUgNiAmJiBpbnNpZGUoWSsyKSAmJiBjaHVua1tYKzFdW1krMl1bWl0pKSAmJiAobnVtKSBwbGF5ZXIucG9zaXRpb24ueCA+IDYgKiBYIC0gNDIgLSB3IC8gMiAmJiBveCA8PSA2ICogWCAtIDQyIC0gdyAvIDIpewoJCQlwbGF5ZXIucG9zaXRpb24ueCA9IFggKiA2IC0gNDIgLSB3IC8gMjsKCQkJcGxheWVyLnZlbG9jaXR5LnggPSAwOwoJCQlwbGF5ZXIub25XYWxsID0gdHJ1ZTsKCQl9CgkJaWYoaW5zaWRlKFotMSkgJiYgKGNodW5rW1hdW1ldW1otMV0gfHwgKGluc2lkZShZKzEpICYmIGNodW5rW1hdW1krMV1bWi0xXSkgfHwgKChudW0pIHBsYXllci5wb3NpdGlvbi55ICUgNiA+ICgxMiAtIGgpICUgNiAmJiBpbnNpZGUoWSsyKSAmJiBjaHVua1tYXVtZKzJdW1otMV0pKSAmJiAobnVtKSBwbGF5ZXIucG9zaXRpb24ueiA8IDYgKiBaIC0gNDggKyB3IC8gMiAmJiBveiA+PSA2ICogWiAtIDQ4ICsgdyAvIDIpewoJCQlwbGF5ZXIucG9zaXRpb24ueiA9IFogKiA2IC0gNDggKyB3IC8gMjsKCQkJcGxheWVyLnZlbG9jaXR5LnogPSAwOwoJCQlwbGF5ZXIub25XYWxsID0gdHJ1ZTsKCQl9CgkJaWYoaW5zaWRlKForMSkgJiYgKGNodW5rW1hdW1ldW1orMV0gfHwgKGluc2lkZShZKzEpICYmIGNodW5rW1hdW1krMV1bWisxXSkgfHwgKChudW0pIHBsYXllci5wb3NpdGlvbi55ICUgNiA+ICgxMiAtIGgpICUgNiAmJiBpbnNpZGUoWSsyKSAmJiBjaHVua1tYXVtZKzJdW1orMV0pKSAmJiAobnVtKSBwbGF5ZXIucG9zaXRpb24ueiA+IDYgKiBaIC0gNDIgLSB3IC8gMiAmJiBveiA8PSA2ICogWiAtIDQyIC0gdyAvIDIpewoJCQlwbGF5ZXIucG9zaXRpb24ueiA9IFogKiA2IC0gNDIgLSB3IC8gMjsKCQkJcGxheWVyLnZlbG9jaXR5LnogPSAwOwoJCQlwbGF5ZXIub25XYWxsID0gdHJ1ZTsKCQl9CgkJCgkJaWYoaW5zaWRlKFotMSkgJiYgYWRqdXN0KChudW0pIHBsYXllci5wb3NpdGlvbi56ICUgNiw2KSA8IHcgLyAyKXsJCgkJCWlmKGluc2lkZShYLTEpICYmIChjaHVua1tYLTFdW1ldW1otMV0gfHwgKGluc2lkZShZKzEpICYmIGNodW5rW1gtMV1bWSsxXVtaLTFdKSB8fCAoKG51bSkgcGxheWVyLnBvc2l0aW9uLnkgJSA2ID4gKDEyIC0gaCkgJSA2ICYmIGluc2lkZShZKzIpICYmIGNodW5rW1gtMV1bWSsyXVtaLTFdKSkgJiYgKG51bSkgcGxheWVyLnBvc2l0aW9uLnggPCA2ICogWCAtIDQ4ICsgdyAvIDIgJiYgb3ggPj0gNiAqIFggLSA0OCArIHcgLyAyKXsKCQkJCXBsYXllci5wb3NpdGlvbi54ID0gWCAqIDYgLSA0OCArIHcgLyAyOwoJCQkJcGxheWVyLnZlbG9jaXR5LnggPSAwOwoJCQkJcGxheWVyLm9uV2FsbCA9IHRydWU7CgkJCX0KCQkJaWYoaW5zaWRlKFgrMSkgJiYgKGNodW5rW1grMV1bWV1bWi0xXSB8fCAoaW5zaWRlKFkrMSkgJiYgY2h1bmtbWCsxXVtZKzFdW1otMV0pIHx8ICgobnVtKSBwbGF5ZXIucG9zaXRpb24ueSAlIDYgPiAoMTIgLSBoKSAlIDYgJiYgaW5zaWRlKFkrMikgJiYgY2h1bmtbWCsxXVtZKzJdW1otMV0pKSAmJiAobnVtKSBwbGF5ZXIucG9zaXRpb24ueCA+IDYgKiBYIC0gNDIgLSB3IC8gMiAmJiBveCA8PSA2ICogWCAtIDQyIC0gdyAvIDIpewoJCQkJcGxheWVyLnBvc2l0aW9uLnggPSBYICogNiAtIDQyIC0gdyAvIDI7CgkJCQlwbGF5ZXIudmVsb2NpdHkueCA9IDA7CgkJCQlwbGF5ZXIub25XYWxsID0gdHJ1ZTsKCQkJfQoJCX0KCQlpZihpbnNpZGUoWisxKSAmJiBhZGp1c3QoKG51bSkgcGxheWVyLnBvc2l0aW9uLnogJSA2LDYpID4gNiAtIHcgLyAyKXsJCgkJCWlmKGluc2lkZShYLTEpICYmIChjaHVua1tYLTFdW1ldW1orMV0gfHwgKGluc2lkZShZKzEpICYmIGNodW5rW1gtMV1bWSsxXVtaKzFdKSB8fCAoKG51bSkgcGxheWVyLnBvc2l0aW9uLnkgJSA2ID4gKDEyIC0gaCkgJSA2ICYmIGluc2lkZShZKzIpICYmIGNodW5rW1gtMV1bWSsyXVtaKzFdKSkgJiYgKG51bSkgcGxheWVyLnBvc2l0aW9uLnggPCA2ICogWCAtIDQ4ICsgdyAvIDIgJiYgb3ggPj0gNiAqIFggLSA0OCArIHcgLyAyKXsKCQkJCXBsYXllci5wb3NpdGlvbi54ID0gWCAqIDYgLSA0OCArIHcgLyAyOwoJCQkJcGxheWVyLnZlbG9jaXR5LnggPSAwOwoJCQkJcGxheWVyLm9uV2FsbCA9IHRydWU7CgkJCX0KCQkJaWYoaW5zaWRlKFgrMSkgJiYgKGNodW5rW1grMV1bWV1bWisxXSB8fCAoaW5zaWRlKFkrMSkgJiYgY2h1bmtbWCsxXVtZKzFdW1orMV0pIHx8ICgobnVtKSBwbGF5ZXIucG9zaXRpb24ueSAlIDYgPiAoMTIgLSBoKSAlIDYgJiYgaW5zaWRlKFkrMikgJiYgY2h1bmtbWCsxXVtZKzJdW1orMV0pKSAmJiAobnVtKSBwbGF5ZXIucG9zaXRpb24ueCA+IDYgKiBYIC0gNDIgLSB3IC8gMiAmJiBveCA8PSA2ICogWCAtIDQyIC0gdyAvIDIpewoJCQkJcGxheWVyLnBvc2l0aW9uLnggPSBYICogNiAtIDQyIC0gdyAvIDI7CgkJCQlwbGF5ZXIudmVsb2NpdHkueCA9IDA7CgkJCQlwbGF5ZXIub25XYWxsID0gdHJ1ZTsKCQkJfQoJCX0KCQkKCQlpZihpbnNpZGUoWC0xKSAmJiBhZGp1c3QoKG51bSkgcGxheWVyLnBvc2l0aW9uLnggJSA2LDYpIDwgdyAvIDIpewoJCQlpZihpbnNpZGUoWi0xKSAmJiAoY2h1bmtbWC0xXVtZXVtaLTFdIHx8IChpbnNpZGUoWSsxKSAmJiBjaHVua1tYLTFdW1krMV1bWi0xXSkgfHwgKChudW0pIHBsYXllci5wb3NpdGlvbi55ICUgNiA+ICgxMiAtIGgpICUgNiAmJiBpbnNpZGUoWSsyKSAmJiBjaHVua1tYLTFdW1krMl1bWi0xXSkpICYmIChudW0pIHBsYXllci5wb3NpdGlvbi56IDwgNiAqIFogLSA0OCArIHcgLyAyICYmIG96ID49IDYgKiBaIC0gNDggKyB3IC8gMil7CgkJCQlwbGF5ZXIucG9zaXRpb24ueiA9IFogKiA2IC0gNDggKyB3IC8gMjsKCQkJCXBsYXllci52ZWxvY2l0eS56ID0gMDsKCQkJCXBsYXllci5vbldhbGwgPSB0cnVlOwoJCQl9CgkJCWlmKGluc2lkZShaKzEpICYmIChjaHVua1tYLTFdW1ldW1orMV0gfHwgKGluc2lkZShZKzEpICYmIGNodW5rW1gtMV1bWSsxXVtaKzFdKSB8fCAoKG51bSkgcGxheWVyLnBvc2l0aW9uLnkgJSA2ID4gKDEyIC0gaCkgJSA2ICYmIGluc2lkZShZKzIpICYmIGNodW5rW1gtMV1bWSsyXVtaKzFdKSkgJiYgKG51bSkgcGxheWVyLnBvc2l0aW9uLnogPiA2ICogWiAtIDQyIC0gdyAvIDIgJiYgb3ogPD0gNiAqIFogLSA0MiAtIHcgLyAyKXsKCQkJCXBsYXllci5wb3NpdGlvbi56ID0gWiAqIDYgLSA0MiAtIHcgLyAyOwoJCQkJcGxheWVyLnZlbG9jaXR5LnogPSAwOwoJCQkJcGxheWVyLm9uV2FsbCA9IHRydWU7CgkJCX0KCQl9CgkJaWYoaW5zaWRlKFgrMSkgJiYgYWRqdXN0KChudW0pIHBsYXllci5wb3NpdGlvbi54ICUgNiw2KSA+IDYgLSB3IC8gMil7CgkJCWlmKGluc2lkZShaLTEpICYmIChjaHVua1tYKzFdW1ldW1otMV0gfHwgKGluc2lkZShZKzEpICYmIGNodW5rW1grMV1bWSsxXVtaLTFdKSB8fCAoKG51bSkgcGxheWVyLnBvc2l0aW9uLnkgJSA2ID4gKDEyIC0gaCkgJSA2ICYmIGluc2lkZShZKzIpICYmIGNodW5rW1grMV1bWSsyXVtaLTFdKSkgJiYgKG51bSkgcGxheWVyLnBvc2l0aW9uLnogPCA2ICogWiAtIDQ4ICsgdyAvIDIgJiYgb3ogPj0gNiAqIFogLSA0OCArIHcgLyAyKXsKCQkJCXBsYXllci5wb3NpdGlvbi56ID0gWiAqIDYgLSA0OCArIHcgLyAyOwoJCQkJcGxheWVyLnZlbG9jaXR5LnogPSAwOwoJCQkJcGxheWVyLm9uV2FsbCA9IHRydWU7CgkJCX0KCQkJaWYoaW5zaWRlKForMSkgJiYgKGNodW5rW1grMV1bWV1bWisxXSB8fCAoaW5zaWRlKFkrMSkgJiYgY2h1bmtbWCsxXVtZKzFdW1orMV0pIHx8ICgobnVtKSBwbGF5ZXIucG9zaXRpb24ueSAlIDYgPiAoMTIgLSBoKSAlIDYgJiYgaW5zaWRlKFkrMikgJiYgY2h1bmtbWCsxXVtZKzJdW1orMV0pKSAmJiAobnVtKSBwbGF5ZXIucG9zaXRpb24ueiA+IDYgKiBaIC0gNDIgLSB3IC8gMiAmJiBveiA8PSA2ICogWiAtIDQyIC0gdyAvIDIpewoJCQkJcGxheWVyLnBvc2l0aW9uLnogPSBaICogNiAtIDQyIC0gdyAvIDI7CgkJCQlwbGF5ZXIudmVsb2NpdHkueiA9IDA7CgkJCQlwbGF5ZXIub25XYWxsID0gdHJ1ZTsKCQkJfQoJCX0KCQkKCQlmb3IobnVtIGkgPSAwOyBpIDwgOTsgaSsrKXsKCQkJaWYoaW5zaWRlKFggKyBpICUgMyAtIDEpICYmIGluc2lkZShaICsgTWF0aC5mbG9vcihpIC8gMykgLSAxKSAmJiBjaHVua1tYICsgaSAlIDMgLSAxXVtZXVtaICsgTWF0aC5mbG9vcihpIC8gMykgLSAxXSAmJiBveSA+PSBZICogNiArIDYgJiYgCgkJCU1hdGguYWJzKDYgKiAoWCArIGkgJSAzIC0gMSkgLSA0NSAtIChudW0pIHBsYXllci5wb3NpdGlvbi54KSA8IDMgKyAodyAvIDIpICYmIE1hdGguYWJzKDYgKiAoWiArIE1hdGguZmxvb3IoaSAvIDMpIC0gMSkgLSA0NSAtIChudW0pIHBsYXllci5wb3NpdGlvbi56KSA8IDMgKyAodyAvIDIpKXsKCQkJCXBsYXllci5wb3NpdGlvbi55ID0gWSAqIDYgKyA2OwoJCQkJcGxheWVyLnZlbG9jaXR5LnkgPSAwOwoJCQkJcGxheWVyLm9uR3JvdW5kID0gdHJ1ZTsKCQkJCWJyZWFrOwoJCQl9CgkJfQoJfQoJaWYoaW5zaWRlKFgpICYmIGluc2lkZShZLTEpICYmIGluc2lkZShaKSl7CgkJZm9yKG51bSBpID0gMDsgaSA8IDk7IGkrKyl7CgkJCWlmKGluc2lkZShYICsgaSAlIDMgLSAxKSAmJiBpbnNpZGUoWiArIE1hdGguZmxvb3IoaSAvIDMpIC0gMSkgJiYgY2h1bmtbWCArIGkgJSAzIC0gMV1bWS0xXVtaICsgTWF0aC5mbG9vcihpIC8gMykgLSAxXSAmJiAobnVtKSBwbGF5ZXIucG9zaXRpb24ueSAlIDYgPT0gMCAmJiAgCgkJCU1hdGguYWJzKDYgKiAoWCArIGkgJSAzIC0gMSkgLSA0NSAtIChudW0pIHBsYXllci5wb3NpdGlvbi54KSA8IDMgKyAodyAvIDIpICYmIE1hdGguYWJzKDYgKiAoWiArIE1hdGguZmxvb3IoaSAvIDMpIC0gMSkgLSA0NSAtIChudW0pIHBsYXllci5wb3NpdGlvbi56KSA8IDMgKyAodyAvIDIpKXsKCQkJCXBsYXllci52ZWxvY2l0eS55ID0gMDsKCQkJCXBsYXllci5vbkdyb3VuZCA9IHRydWU7CgkJCQlicmVhazsKCQkJfQoJCX0KCX0KCWlmKGluc2lkZShYKSAmJiBpbnNpZGUoWSsyKSAmJiBpbnNpZGUoWikpewoJCWZvcihudW0gaSA9IDA7IGkgPCA5OyBpKyspewoJCQlpZihpbnNpZGUoWCArIGkgJSAzIC0gMSkgJiYgaW5zaWRlKFogKyBNYXRoLmZsb29yKGkgLyAzKSAtIDEpICYmIGNodW5rW1ggKyBpICUgMyAtIDFdW1krMl1bWiArIE1hdGguZmxvb3IoaSAvIDMpIC0gMV0gJiYgKG51bSkgcGxheWVyLnBvc2l0aW9uLnkgJSA2ID4gMTIgLSBoICYmIG95IDw9IFkgKiA2ICsgMTIgLSBoICYmIAoJCQlNYXRoLmFicyg2ICogKFggKyBpICUgMyAtIDEpIC0gNDUgLSAobnVtKSBwbGF5ZXIucG9zaXRpb24ueCkgPCAzICsgKHcgLyAyKSAmJiBNYXRoLmFicyg2ICogKFogKyBNYXRoLmZsb29yKGkgLyAzKSAtIDEpIC0gNDUgLSAobnVtKSBwbGF5ZXIucG9zaXRpb24ueikgPCAzICsgKHcgLyAyKSl7CgkJCQlwbGF5ZXIucG9zaXRpb24ueSA9IFkgKiA2ICsgMTIgLSBoOwoJCQkJcGxheWVyLnZlbG9jaXR5LnkgPSAwOwoJCQkJYnJlYWs7CgkJCX0KCQl9Cgl9CglveCA9IChudW0pIHBsYXllci5wb3NpdGlvbi54OwoJb3kgPSAobnVtKSBwbGF5ZXIucG9zaXRpb24ueTsKCW96ID0gKG51bSkgcGxheWVyLnBvc2l0aW9uLno7Cgljb3VudF8gPSAobnVtKSBjb3VudDsKCWxhc3RBZGp1c3QgPSAoYm9vbCkgYWRqdXN0XzsKCU9YID0gTWF0aC5mbG9vcihHQU1FLkNBTUVSQS5wb3NpdGlvbi54IC8gNikgKyA4OwoJT1kgPSBNYXRoLmZsb29yKEdBTUUuQ0FNRVJBLnBvc2l0aW9uLnkgLyA2KTsKCU9aID0gTWF0aC5mbG9vcihHQU1FLkNBTUVSQS5wb3NpdGlvbi56IC8gNikgKyA4Owp9CgojIFVzZXIgcHJlc3NlZCBhIGtleQpwdWJsaWMgYWN0aW9uIG9uS2V5UHJlc3Moc3RyIGtleSwgbnVtIGNvZGUpIHsKCn0KCiMgVXNlciByZWxlYXNlZCBhIGtleQpwdWJsaWMgYWN0aW9uIG9uS2V5VXAoc3RyIGtleSwgbnVtIGNvZGUpIHsKCn0KCiMgVXNlciBoZWxkIGEga2V5CnB1YmxpYyBhY3Rpb24gb25LZXlIZWxkKHN0ciBrZXksIG51bSBjb2RlKSB7Cgp9CgojIFVzZXIgcHJlc3NlZCBhIGJ1dHRvbiBvbiBhIGNvbnRyb2xsZXIKcHVibGljIGFjdGlvbiBvbkNvbnRyb2xsZXJQcmVzcyhzdHIga2V5LCBudW0gY29kZSkgewoKfQoKIyBVc2VyIHJlbGVhc2VkIGEgYnV0dG9uIG9uIGEgY29udHJvbGxlcgpwdWJsaWMgYWN0aW9uIG9uQ29udHJvbGxlclVwKHN0ciBrZXksIG51bSBjb2RlKSB7Cgp9CgojIFVzZXIgaGVsZCBhIGJ1dHRvbiBvbiBhIGNvbnRyb2xsZXIKcHVibGljIGFjdGlvbiBvbkNvbnRyb2xsZXJIZWxkKHN0ciBrZXksIG51bSBjb2RlKSB7Cgp9CgojIFVzZXIgY2xpY2tlZCBvbiBzY3JlZW4KcHVibGljIGFjdGlvbiBvbk1vdXNlQ2xpY2sobnVtIGJ1dHRvbiwgbnVtIHgsIG51bSB5KSB7CglvYmogcGxheWVyID0gR0FNRS5QTEFZRVJTLmdldFNlbGYoKTsKCWlmKGJ1dHRvbiA9PSAzICYmIGNvb2xkb3duID49IDI1MCAmJiAobnVtKSBwbGF5ZXIucG9zaXRpb24ueSA8IDE1MCl7CgkJbnVtIHhfID0gKG51bSkgcGxheWVyLnBvc2l0aW9uLnggKyAobnVtKSBHQU1FLkNBTUVSQS5wb3NpdGlvbi55IC8gTWF0aC50YW4oKG51bSkgcGxheWVyLnJvdGF0aW9uLnkpICogTWF0aC5zaW4oKG51bSkgcGxheWVyLnJvdGF0aW9uLngpOwoJCW51bSB5XyA9IDA7CgkJbnVtIHpfID0gKG51bSkgcGxheWVyLnBvc2l0aW9uLnogKyAobnVtKSBHQU1FLkNBTUVSQS5wb3NpdGlvbi55IC8gTWF0aC50YW4oKG51bSkgcGxheWVyLnJvdGF0aW9uLnkpICogTWF0aC5jb3MoKG51bSkgcGxheWVyLnJvdGF0aW9uLngpOwoJCXhfID0gTWF0aC5mbG9vcih4XyAvIDYpOwoJCXhfICs9IDg7CgkJel8gPSBNYXRoLmZsb29yKHpfIC8gNik7CgkJel8gKz0gODsKCQlib29sIFIgPSBmYWxzZTsKCQlmb3IobnVtIGkgPSAwOyBpIDwgbGVuZ3RoT2YgY3ViZXM7IGkrKyl7CgkJCShudW0pIGN1YmVzW2ldLnBvc2l0aW9uLnkgKz0gKG51bSkgY3ViZXNbaV0uc2NhbGUueSAvIDI7CgkJCWlmKChib29sKSBsb29rKHt4OiBwbGF5ZXIucG9zaXRpb24ueCwgeTogR0FNRS5DQU1FUkEucG9zaXRpb24ueSwgejogcGxheWVyLnBvc2l0aW9uLnp9LCAob2JqKSBwbGF5ZXIucm90YXRpb24sIChvYmopIGN1YmVzW2ldLnBvc2l0aW9uLCAob2JqKSBjdWJlc1tpXS5zY2FsZSkubG9va2luZyl7CgkJCQlSID0gdHJ1ZTsKCQkJfQoJCQkobnVtKSBjdWJlc1tpXS5wb3NpdGlvbi55IC09IChudW0pIGN1YmVzW2ldLnNjYWxlLnkgLyAyOwoJCX0KCQlpZighUiAmJiBpbnNpZGUoeF8pICYmIGluc2lkZSh6XykgJiYgKG51bSkgcGxheWVyLnJvdGF0aW9uLnkgPD0gMCAmJiBjaGVja1BsYXllcnMoe3g6IHhfLCB5OiB5Xywgejogel99KSl7CgkJCW9iaiBwID0gKG9iaikgcGxheWVyLnBvc2l0aW9uOwoJCQludW0gZF8gPSBNYXRoLnBvdyhNYXRoLmZsb29yKChudW0pIHAueCAvIDYpIC0geF8gKyA4LCAyKSArIAoJCQlNYXRoLnBvdyhNYXRoLmZsb29yKEdBTUUuQ0FNRVJBLnBvc2l0aW9uLnkgLyA2KSwgMikgKyAKCQkJTWF0aC5wb3coTWF0aC5mbG9vcigobnVtKSBwLnogLyA2KSAtIHpfICsgOCwgMik7CgkJCWlmKGRfIDwgMzYpewoJCQkJY2h1bmtbeF9dW3lfXVt6X10gPSB0cnVlOwoJCQkJYmxvY2tbeF9dW3lfXVt6X10gPSB0cnVlOwoJCQkJYmxvY2tzW3hfXVt5X11bel9dID0gYWRqdXN0KHNlbGVjdCAlIDksIDkpICsgMTsKCQkJCWFkZFRvIGN1YmVzIEdBTUUuU0NFTkUuYWRkQ3ViZSh0ZXh0dXJlc1thZGp1c3Qoc2VsZWN0ICUgOSwgOSldLCAiI2ZmZiIsIHhfICogNiAtIDQ1LCA2ICogeV8sIHpfICogNiAtIDQ1LCA2LCA2LCA2LCB7dGV4dHVyZVNjYWxlOiAxMH0pOwoJCQkJR0FNRS5ORVRXT1JLLnNlbmQoInBsYWNlIiwge3g6IHhfLCB5OiB5Xywgejogel8sIHR5cGU6IGFkanVzdChzZWxlY3QgJSA5LCA5KX0pOwoJCQkJY29vbGRvd24gPSAwOwoJCQkJaWYoYWRqdXN0Xyl7CgkJCQkJaWYoaW5zaWRlKE1hdGguZmxvb3IoKG51bSkgcGxheWVyLnBvc2l0aW9uLnggLyA2KSArIDgpICYmIGluc2lkZShNYXRoLmZsb29yKChudW0pIEdBTUUuQ0FNRVJBLnBvc2l0aW9uLnkgLyA2KSkgJiYgaW5zaWRlKE1hdGguZmxvb3IoKG51bSkgcGxheWVyLnBvc2l0aW9uLnogLyA2KSArIDgpKXsKCQkJCQkJc2VlKHt4OiBNYXRoLmZsb29yKChudW0pIHBsYXllci5wb3NpdGlvbi54IC8gNikgKyA4LCB5OiBNYXRoLmZsb29yKChudW0pIEdBTUUuQ0FNRVJBLnBvc2l0aW9uLnkgLyA2KSwgejogTWF0aC5mbG9vcigobnVtKSBwbGF5ZXIucG9zaXRpb24ueiAvIDYpICsgOH0pOwoJCQkJCX0KCQkJCQlpZihpbnNpZGUoTWF0aC5mbG9vcigobnVtKSBwbGF5ZXIucG9zaXRpb24ueCAvIDYpICsgOCkgJiYgIWluc2lkZShNYXRoLmZsb29yKChudW0pIEdBTUUuQ0FNRVJBLnBvc2l0aW9uLnkgLyA2KSkgJiYgaW5zaWRlKE1hdGguZmxvb3IoKG51bSkgcGxheWVyLnBvc2l0aW9uLnogLyA2KSArIDgpKXsKCQkJCQkJc2VlXyh7eDogTWF0aC5mbG9vcigobnVtKSBwbGF5ZXIucG9zaXRpb24ueCAvIDYpICsgOCwgeTogTWF0aC5mbG9vcigobnVtKSBHQU1FLkNBTUVSQS5wb3NpdGlvbi55IC8gNiksIHo6IE1hdGguZmxvb3IoKG51bSkgcGxheWVyLnBvc2l0aW9uLnogLyA2KSArIDh9KTsKCQkJCQl9CgkJCQl9CgkJCX0KCQl9CgkJaWYoUil7CgkJCW9iaiBQID0gcGxhY2Uoe3g6IHBsYXllci5wb3NpdGlvbi54LCB5OiBHQU1FLkNBTUVSQS5wb3NpdGlvbi55LCB6OiBwbGF5ZXIucG9zaXRpb24uen0sIChvYmopIHBsYXllci5yb3RhdGlvbik7CgkJCVAudHlwZSA9IGFkanVzdChzZWxlY3QgJSA5LCA5KTsKCQkJb2JqIEwgPSBsb29rKHt4OiBwbGF5ZXIucG9zaXRpb24ueCwgeTogR0FNRS5DQU1FUkEucG9zaXRpb24ueSwgejogcGxheWVyLnBvc2l0aW9uLnp9LCAob2JqKSBwbGF5ZXIucm90YXRpb24sIHt4OiAobnVtKSBQLnggKiA2IC0gNDUsIHk6IChudW0pIFAueSAqIDYgKyAzLCB6OiAobnVtKSBQLnogKiA2IC0gNDV9LCB7eDogNiwgeTogNiwgejogNn0pOwoJCQlpZigoYm9vbCkgTC5sb29raW5nICYmIChudW0pIFAuZCA8IDM2KXsKCQkJCW9iaiByID0gKG9iaikgcGxheWVyLnJvdGF0aW9uOwoJCQkJaWYoKHN0cikgTC5zdGFydCA9PSAieCIpeyhudW0pIFAueCArPSBNYXRoLmFicyhNYXRoLnNpbigobnVtKSByLngpKSAvIE1hdGguc2luKChudW0pIHIueCk7fQoJCQkJaWYoKHN0cikgTC5zdGFydCA9PSAieSIpeyhudW0pIFAueSAtPSBNYXRoLmFicygobnVtKSByLnkpIC8gKG51bSkgci55O30KCQkJCWlmKChzdHIpIEwuc3RhcnQgPT0gInoiKXsobnVtKSBQLnogKz0gTWF0aC5hYnMoTWF0aC5jb3MoKG51bSkgci54KSkgLyBNYXRoLmNvcygobnVtKSByLngpO30KCQkJCWlmKGluc2lkZSgobnVtKSBQLngpICYmIGluc2lkZSgobnVtKSBQLnkpICYmIGluc2lkZSgobnVtKSBQLnopKXsKCQkJCQlpZighY2h1bmtbKG51bSkgUC54XVsobnVtKSBQLnldWyhudW0pIFAuel0gJiYgY2hlY2tQbGF5ZXJzKFApICYmIChudW0pIFAuZCA8IDM2KXsKCQkJCQkJYWRkVG8gY3ViZXMgR0FNRS5TQ0VORS5hZGRDdWJlKHRleHR1cmVzW2FkanVzdChzZWxlY3QgJSA5LCA5KV0sICIjZmZmIiwgKG51bSkgUC54ICogNiAtIDQ1LCA2ICogKG51bSkgUC55LCAobnVtKSBQLnogKiA2IC0gNDUsIDYsIDYsIDYsIHt0ZXh0dXJlU2NhbGU6IDEwfSk7CgkJCQkJCWNodW5rWyhudW0pIFAueF1bKG51bSkgUC55XVsobnVtKSBQLnpdID0gdHJ1ZTsKCQkJCQkJYmxvY2tbKG51bSkgUC54XVsobnVtKSBQLnldWyhudW0pIFAuel0gPSB0cnVlOwoJCQkJCQlibG9ja3NbKG51bSkgUC54XVsobnVtKSBQLnldWyhudW0pIFAuel0gPSBhZGp1c3Qoc2VsZWN0ICUgOSwgOSkgKyAxOwoJCQkJCQlHQU1FLk5FVFdPUksuc2VuZCgicGxhY2UiLCBQKTsKCQkJCQkJY29vbGRvd24gPSAwOwoJCQkJCQlpZihhZGp1c3RfKXsKCQkJCQkJCWlmKGluc2lkZShNYXRoLmZsb29yKChudW0pIHBsYXllci5wb3NpdGlvbi54IC8gNikgKyA4KSAmJiBpbnNpZGUoTWF0aC5mbG9vcigobnVtKSBHQU1FLkNBTUVSQS5wb3NpdGlvbi55IC8gNikpICYmIGluc2lkZShNYXRoLmZsb29yKChudW0pIHBsYXllci5wb3NpdGlvbi56IC8gNikgKyA4KSl7CgkJCQkJCQkJc2VlKHt4OiBNYXRoLmZsb29yKChudW0pIHBsYXllci5wb3NpdGlvbi54IC8gNikgKyA4LCB5OiBNYXRoLmZsb29yKChudW0pIEdBTUUuQ0FNRVJBLnBvc2l0aW9uLnkgLyA2KSwgejogTWF0aC5mbG9vcigobnVtKSBwbGF5ZXIucG9zaXRpb24ueiAvIDYpICsgOH0pOwoJCQkJCQkJfQoJCQkJCQkJaWYoaW5zaWRlKE1hdGguZmxvb3IoKG51bSkgcGxheWVyLnBvc2l0aW9uLnggLyA2KSArIDgpICYmICFpbnNpZGUoTWF0aC5mbG9vcigobnVtKSBHQU1FLkNBTUVSQS5wb3NpdGlvbi55IC8gNikpICYmIGluc2lkZShNYXRoLmZsb29yKChudW0pIHBsYXllci5wb3NpdGlvbi56IC8gNikgKyA4KSl7CgkJCQkJCQkJc2VlXyh7eDogTWF0aC5mbG9vcigobnVtKSBwbGF5ZXIucG9zaXRpb24ueCAvIDYpICsgOCwgeTogTWF0aC5mbG9vcigobnVtKSBHQU1FLkNBTUVSQS5wb3NpdGlvbi55IC8gNiksIHo6IE1hdGguZmxvb3IoKG51bSkgcGxheWVyLnBvc2l0aW9uLnogLyA2KSArIDh9KTsKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQkJfQoJCX0KCX0KCWlmKGJ1dHRvbiA9PSAyKXsKCQlhZGp1c3RfID0gIWFkanVzdF87Cgl9CglpZihidXR0b24gPT0gMSAmJiBjb29sZG93biA+PSAyNTAgJiYgKG51bSkgcGxheWVyLnBvc2l0aW9uLnkgPCAyMDApewoJCWJvb2wgUiA9IGZhbHNlOwoJCWZvcihudW0gaSA9IDA7IGkgPCBsZW5ndGhPZiBjdWJlczsgaSsrKXsKCQkJKG51bSkgY3ViZXNbaV0ucG9zaXRpb24ueSArPSAobnVtKSBjdWJlc1tpXS5zY2FsZS55IC8gMjsKCQkJaWYoKGJvb2wpIGxvb2soe3g6IHBsYXllci5wb3NpdGlvbi54LCB5OiBHQU1FLkNBTUVSQS5wb3NpdGlvbi55LCB6OiBwbGF5ZXIucG9zaXRpb24uen0sIChvYmopIHBsYXllci5yb3RhdGlvbiwgKG9iaikgY3ViZXNbaV0ucG9zaXRpb24sIChvYmopIGN1YmVzW2ldLnNjYWxlKS5sb29raW5nKXsKCQkJCVIgPSB0cnVlOwoJCQl9CgkJCShudW0pIGN1YmVzW2ldLnBvc2l0aW9uLnkgLT0gKG51bSkgY3ViZXNbaV0uc2NhbGUueSAvIDI7CgkJfQoJCWlmKFIpewoJCQlvYmogUCA9IHBsYWNlKHt4OiBwbGF5ZXIucG9zaXRpb24ueCwgeTogR0FNRS5DQU1FUkEucG9zaXRpb24ueSwgejogcGxheWVyLnBvc2l0aW9uLnp9LCAob2JqKSBwbGF5ZXIucm90YXRpb24pOwoJCQlvYmogTCA9IGxvb2soe3g6IHBsYXllci5wb3NpdGlvbi54LCB5OiBHQU1FLkNBTUVSQS5wb3NpdGlvbi55LCB6OiBwbGF5ZXIucG9zaXRpb24uen0sIChvYmopIHBsYXllci5yb3RhdGlvbiwge3g6IChudW0pIFAueCAqIDYgLSA0NSwgeTogKG51bSkgUC55ICogNiArIDMsIHo6IChudW0pIFAueiAqIDYgLSA0NX0sIHt4OiA2LCB5OiA2LCB6OiA2fSk7CgkJCWlmKChib29sKSBMLmxvb2tpbmcgJiYgKG51bSkgUC5kIDwgMzYpewoJCQkJaWYoaW5zaWRlKChudW0pIFAueCkgJiYgaW5zaWRlKChudW0pIFAueSkgJiYgaW5zaWRlKChudW0pIFAueikpewoJCQkJCWlmKGNodW5rWyhudW0pIFAueF1bKG51bSkgUC55XVsobnVtKSBQLnpdKXsKCQkJCQkJZm9yKG51bSBpID0gMDsgaSA8IGxlbmd0aE9mIGN1YmVzOyBpKyspewoJCQkJCQkJaWYoKG51bSkgUC54ICogNiAtIDQ1ID09IChudW0pIGN1YmVzW2ldLnBvc2l0aW9uLnggJiYgKG51bSkgUC55ICogNiA9PSAobnVtKSBjdWJlc1tpXS5wb3NpdGlvbi55ICYmIChudW0pIFAueiAqIDYgLSA0NSA9PSAobnVtKSBjdWJlc1tpXS5wb3NpdGlvbi56KXtjdWJlc1tpXS5kZWxldGUoKTsgcmVtb3ZlIGN1YmVzW2ldO2ktLTt9CgkJCQkJCX0KCQkJCQkJY2h1bmtbKG51bSkgUC54XVsobnVtKSBQLnldWyhudW0pIFAuel0gPSBmYWxzZTsKCQkJCQkJYmxvY2tbKG51bSkgUC54XVsobnVtKSBQLnldWyhudW0pIFAuel0gPSBmYWxzZTsKCQkJCQkJYmxvY2tzWyhudW0pIFAueF1bKG51bSkgUC55XVsobnVtKSBQLnpdID0gMDsKCQkJCQkJR0FNRS5ORVRXT1JLLnNlbmQoImJyZWFrIiwgUCk7CgkJCQkJCWNvb2xkb3duID0gMDsKCQkJCQkJaWYoYWRqdXN0Xyl7CgkJCQkJCQlpZihpbnNpZGUoTWF0aC5mbG9vcigobnVtKSBwbGF5ZXIucG9zaXRpb24ueCAvIDYpICsgOCkgJiYgaW5zaWRlKE1hdGguZmxvb3IoKG51bSkgR0FNRS5DQU1FUkEucG9zaXRpb24ueSAvIDYpKSAmJiBpbnNpZGUoTWF0aC5mbG9vcigobnVtKSBwbGF5ZXIucG9zaXRpb24ueiAvIDYpICsgOCkpewoJCQkJCQkJCXNlZSh7eDogTWF0aC5mbG9vcigobnVtKSBwbGF5ZXIucG9zaXRpb24ueCAvIDYpICsgOCwgeTogTWF0aC5mbG9vcigobnVtKSBHQU1FLkNBTUVSQS5wb3NpdGlvbi55IC8gNiksIHo6IE1hdGguZmxvb3IoKG51bSkgcGxheWVyLnBvc2l0aW9uLnogLyA2KSArIDh9KTsKCQkJCQkJCX0KCQkJCQkJCWlmKGluc2lkZShNYXRoLmZsb29yKChudW0pIHBsYXllci5wb3NpdGlvbi54IC8gNikgKyA4KSAmJiAhaW5zaWRlKE1hdGguZmxvb3IoKG51bSkgR0FNRS5DQU1FUkEucG9zaXRpb24ueSAvIDYpKSAmJiBpbnNpZGUoTWF0aC5mbG9vcigobnVtKSBwbGF5ZXIucG9zaXRpb24ueiAvIDYpICsgOCkpewoJCQkJCQkJCXNlZV8oe3g6IE1hdGguZmxvb3IoKG51bSkgcGxheWVyLnBvc2l0aW9uLnggLyA2KSArIDgsIHk6IE1hdGguZmxvb3IoKG51bSkgR0FNRS5DQU1FUkEucG9zaXRpb24ueSAvIDYpLCB6OiBNYXRoLmZsb29yKChudW0pIHBsYXllci5wb3NpdGlvbi56IC8gNikgKyA4fSk7CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQl9CgkJCQl9CgkJCX0KCQl9Cgl9Cn0KCiMgVXNlciByZWxlYXNlZCBjbGlja2VkIG9uIHNjcmVlbgpwdWJsaWMgYWN0aW9uIG9uTW91c2VVcChudW0gYnV0dG9uLCBudW0geCwgbnVtIHkpIHsKCn0KCiMgVXNlciBzY3JvbGxlZCBvbiBzY3JlZW4KcHVibGljIGFjdGlvbiBvbk1vdXNlU2Nyb2xsKG51bSBkaXIpIHsKCWlmKE1hdGguYWJzKGRpcikgPT0gMSl7CgkJc2VsZWN0IC09IGRpcjsKCX0KfQoKIyBVc2VyIGNsaWNrZWQgYSBESVYgKElEKQpwdWJsaWMgYWN0aW9uIG9uRElWQ2xpY2tlZChzdHIgaWQpIHsKCn0KCiMgQ2xpZW50IHJlY2VpdmVzIG5ldHdvcmsgbWVzc2FnZQpwdWJsaWMgYWN0aW9uIG9uTmV0d29ya01lc3NhZ2Uoc3RyIGlkLCBvYmogZGF0YSkgewoJb2JqIHBsYXllciA9IEdBTUUuUExBWUVSUy5nZXRTZWxmKCk7CglpZihsZW5ndGhPZiBsb2FkcyA+IChudW0pIGRhdGEueSl7CgkJYm9vbCBoX18gPSAoYm9vbCkgYmxvY2tbKG51bSkgZGF0YS54XVsobnVtKSBkYXRhLnldWyhudW0pIGRhdGEuel07CgkJaWYoaWQgPT0gInBsYWNlIil7CgkJCWlmKChzdHIpIHBsYXllci5pZCAhPSAoc3RyKSBkYXRhLm5vdCl7CgkJCQljaHVua1sobnVtKSBkYXRhLnhdWyhudW0pIGRhdGEueV1bKG51bSkgZGF0YS56XSA9IHRydWU7CgkJCQlibG9ja1sobnVtKSBkYXRhLnhdWyhudW0pIGRhdGEueV1bKG51bSkgZGF0YS56XSA9IHRydWU7CgkJCQlibG9ja3NbKG51bSkgZGF0YS54XVsobnVtKSBkYXRhLnldWyhudW0pIGRhdGEuel0gPSAobnVtKSBkYXRhLnR5cGUgKyAxOwoJCQkJYWRkVG8gY3ViZXMgR0FNRS5TQ0VORS5hZGRDdWJlKHRleHR1cmVzWyhudW0pIGRhdGEudHlwZV0sICIjZmZmIiwgKG51bSkgZGF0YS54ICogNiAtIDQ1LCA2ICogKG51bSkgZGF0YS55LCAobnVtKSBkYXRhLnogKiA2IC0gNDUsIDYsIDYsIDYsIHt0ZXh0dXJlU2NhbGU6IDEwfSk7CgkJCX0KCQl9CgkJaWYoaWQgPT0gImJyZWFrIil7CgkJCWlmKChzdHIpIHBsYXllci5pZCAhPSAoc3RyKSBkYXRhLm5vdCl7CgkJCQljaHVua1sobnVtKSBkYXRhLnhdWyhudW0pIGRhdGEueV1bKG51bSkgZGF0YS56XSA9IGZhbHNlOwoJCQkJYmxvY2tbKG51bSkgZGF0YS54XVsobnVtKSBkYXRhLnldWyhudW0pIGRhdGEuel0gPSBmYWxzZTsKCQkJCWJsb2Nrc1sobnVtKSBkYXRhLnhdWyhudW0pIGRhdGEueV1bKG51bSkgZGF0YS56XSA9IDA7CgkJCQlmb3IobnVtIGkgPSAwOyBpIDwgbGVuZ3RoT2YgY3ViZXM7IGkrKyl7CgkJCQkJaWYoKG51bSkgZGF0YS54ICogNiAtIDQ1ID09IChudW0pIGN1YmVzW2ldLnBvc2l0aW9uLnggJiYgKG51bSkgZGF0YS55ICogNiA9PSAobnVtKSBjdWJlc1tpXS5wb3NpdGlvbi55ICYmIChudW0pIGRhdGEueiAqIDYgLSA0NSA9PSAobnVtKSBjdWJlc1tpXS5wb3NpdGlvbi56KXtjdWJlc1tpXS5kZWxldGUoKTsgcmVtb3ZlIGN1YmVzW2ldO2ktLTt9CgkJCQl9CgkJCX0KCQl9CgkJaWYoKHN0cikgcGxheWVyLmlkICE9IChzdHIpIGRhdGEubm90KXsKCQkJaWYoYWRqdXN0XyAmJiBoX18pewoJCQkJaWYoaW5zaWRlKE1hdGguZmxvb3IoKG51bSkgcGxheWVyLnBvc2l0aW9uLnggLyA2KSArIDgpICYmIGluc2lkZShNYXRoLmZsb29yKChudW0pIEdBTUUuQ0FNRVJBLnBvc2l0aW9uLnkgLyA2KSkgJiYgaW5zaWRlKE1hdGguZmxvb3IoKG51bSkgcGxheWVyLnBvc2l0aW9uLnogLyA2KSArIDgpKXsKCQkJCQlzZWUoe3g6IE1hdGguZmxvb3IoKG51bSkgcGxheWVyLnBvc2l0aW9uLnggLyA2KSArIDgsIHk6IE1hdGguZmxvb3IoKG51bSkgR0FNRS5DQU1FUkEucG9zaXRpb24ueSAvIDYpLCB6OiBNYXRoLmZsb29yKChudW0pIHBsYXllci5wb3NpdGlvbi56IC8gNikgKyA4fSk7CgkJCQl9CgkJCQlpZihpbnNpZGUoTWF0aC5mbG9vcigobnVtKSBwbGF5ZXIucG9zaXRpb24ueCAvIDYpICsgOCkgJiYgIWluc2lkZShNYXRoLmZsb29yKChudW0pIEdBTUUuQ0FNRVJBLnBvc2l0aW9uLnkgLyA2KSkgJiYgaW5zaWRlKE1hdGguZmxvb3IoKG51bSkgcGxheWVyLnBvc2l0aW9uLnogLyA2KSArIDgpKXsKCQkJCQlzZWVfKHt4OiBNYXRoLmZsb29yKChudW0pIHBsYXllci5wb3NpdGlvbi54IC8gNikgKyA4LCB5OiBNYXRoLmZsb29yKChudW0pIEdBTUUuQ0FNRVJBLnBvc2l0aW9uLnkgLyA2KSwgejogTWF0aC5mbG9vcigobnVtKSBwbGF5ZXIucG9zaXRpb24ueiAvIDYpICsgOH0pOwoJCQkJfQoJCQl9CgkJfQoJfQoJaWYoaWQgPT0gImNodW5rIil7CgkJYWRkVG8gbG9hZHMgR0FNRS5TQ0VORS5hZGRDdWJlKCIyODAwMCIsICIjZjAwIiwgODAsIDIwMywgLTIyLjUgKyAzICogKG51bSkgZGF0YS5pbmRleCwgMSwgNywgMiwge2VtaXNzaXZlOiAiI2ZmZiJ9KTsKCQlpZigobnVtKSBkYXRhLmluZGV4ID09IDE1KXtsb2FkaW5nID0gZmFsc2U7fQoJCWZvcihudW0gaSA9IDA7IGkgPCAxNjsgaSsrKXsKCQkJZm9yKG51bSBqID0gMDsgaiA8IDE2OyBqKyspewoJCQkJaWYoKHN0cikgZGF0YS5sYXllclsxNiAqIGkgKyBqXSAhPSAiMCIpewoJCQkJCWNodW5rW2ldWyhudW0pIGRhdGEuaW5kZXhdW2pdID0gdHJ1ZTsKCQkJCQlibG9ja1tpXVsobnVtKSBkYXRhLmluZGV4XVtqXSA9IHRydWU7CgkJCQkJYmxvY2tzW2ldWyhudW0pIGRhdGEuaW5kZXhdW2pdID0gKG51bSkgZGF0YS5sYXllclsxNiAqIGkgKyBqXTsKCQkJCQlhZGRUbyBjdWJlcyBHQU1FLlNDRU5FLmFkZEN1YmUodGV4dHVyZXNbKG51bSkgZGF0YS5sYXllclsxNiAqIGkgKyBqXSAtIDFdLCAiI2ZmZiIsIDYgKiBpIC0gNDUsIDYgKiAobnVtKSBkYXRhLmluZGV4LCA2ICogaiAtIDQ1LCA2LCA2LCA2LCB7dGV4dHVyZVNjYWxlOiAxMH0pOwoJCQkJfQoJCQkJZWxzZXsKCQkJCQljaHVua1tpXVsobnVtKSBkYXRhLmluZGV4XVtqXSA9IGZhbHNlOwoJCQkJCWJsb2NrW2ldWyhudW0pIGRhdGEuaW5kZXhdW2pdID0gZmFsc2U7CgkJCQkJYmxvY2tzW2ldWyhudW0pIGRhdGEuaW5kZXhdW2pdID0gMDsKCQkJCX0KCQkJfQoJCX0KCQlpZihhZGp1c3RfKXsKCQkJc2VlXyh7eDogTWF0aC5mbG9vcigobnVtKSBwbGF5ZXIucG9zaXRpb24ueCAvIDYpICsgOCwgeTogTWF0aC5mbG9vcigobnVtKSBHQU1FLkNBTUVSQS5wb3NpdGlvbi55IC8gNiksIHo6IE1hdGguZmxvb3IoKG51bSkgcGxheWVyLnBvc2l0aW9uLnogLyA2KSArIDh9KTsKCQl9Cgl9CglpZihpZCA9PSAibG9hZCIpewoJCXdoaWxlKGxlbmd0aE9mIGxvYWRzID4gMCl7bG9hZHNbMF0uZGVsZXRlKCk7IHJlbW92ZSBsb2Fkc1swXTt9CgkJbG9hZGluZyA9IHRydWU7CgkJd2hpbGUobGVuZ3RoT2YgY3ViZXMgPiAwKXtjdWJlc1swXS5kZWxldGUoKTsgcmVtb3ZlIGN1YmVzWzBdO30KCQlmb3IobnVtIGkgPSAwOyBpIDwgMTY7IGkrKyl7CgkJCWZvcihudW0gaiA9IDA7IGogPCAxNjsgaisrKXsKCQkJCWZvcihudW0gayA9IDA7IGsgPCAxNjsgaysrKXsKCQkJCQljaHVua1tpXVtqXVtrXSA9IGZhbHNlOwoJCQkJCWJsb2NrW2ldW2pdW2tdID0gZmFsc2U7CgkJCQkJYmxvY2tzW2ldW2pdW2tdID0gMDsKCQkJCX0KCQkJfQoJCX0KCX0KfQ==","server":"IyBTZXJ2ZXIgU2NyaXB0IHJ1bnMgb25seSBvbiBIb3N0ZWQgc2VydmVyICYgbm90IGluIHRlc3QgbW9kZQojIEtydW5rU2NyaXB0IENvcHlyaWdodCAoQykgWWVuZGlzIEVudGVydGFpbm1lbnQgUHR5IEx0ZAojIAojIEFkZCBjdXN0b20gYWN0aW9ucyBoZXJlCgojIFJ1bnMgd2hlbiB0aGUgZ2FtZSBzdGFydHMKbnVtIHcgPSAzOwpudW0gaCA9IDExOwpib29sW11bXVtdIGNodW5rID0gYm9vbFtdW11bXTsKbnVtW11bXVtdIGJsb2NrcyA9IG51bVtdW11bXTsKYm9vbCBhY3Rpb24gaW5zaWRlKG51bSBpbmRleCl7CglyZXR1cm4gaW5kZXggPj0gMCAmJiBpbmRleCA8IDE2Owp9Cm51bSBhY3Rpb24gc2lkZShudW0gcCwgbnVtIGMsIG51bSBzKXsKCWlmKHAgKyBzIC8gMiA8IGMpe3JldHVybiAtMTt9CglpZihwIC0gcyAvIDIgPiBjKXtyZXR1cm4gMTt9CglyZXR1cm4gMDsKfQpudW0gYWN0aW9uIGFkanVzdChudW0gcCwgbnVtIHEpewoJaWYocCA8IDApe3JldHVybiBwK3E7fQoJcmV0dXJuIHA7Cn0KcHVibGljIGFjdGlvbiBzdGFydCgpIHsKCWZvcihudW0gaSA9IDA7IGkgPCAxNjsgaSsrKXsKCQlhZGRUbyBjaHVuayBib29sW11bXTsKCQlhZGRUbyBibG9ja3MgbnVtW11bXTsKCQlmb3IobnVtIGogPSAwOyBqIDwgMTY7IGorKyl7CgkJCWFkZFRvIGNodW5rW2ldIGJvb2xbXTsKCQkJYWRkVG8gYmxvY2tzW2ldIG51bVtdOwoJCQlmb3IobnVtIGsgPSAwOyBrIDwgMTY7IGsrKyl7CgkJCQlhZGRUbyBjaHVua1tpXVtqXSBmYWxzZTsKCQkJCWFkZFRvIGJsb2Nrc1tpXVtqXSAwOwoJCQl9CgkJfQoJfQp9CgojIFJ1bnMgZXZlcnkgZ2FtZSB0aWNrCnB1YmxpYyBhY3Rpb24gdXBkYXRlKG51bSBkZWx0YSkgewoKfQoKIyBQbGF5ZXIgc3Bhd25zIGluCnB1YmxpYyBhY3Rpb24gb25QbGF5ZXJTcGF3bihzdHIgaWQpIHsKCW9iaiBwbGF5ZXIgPSBHQU1FLlBMQVlFUlMuZmluZEJ5SUQoaWQpOwoJcGxheWVyLnQgPSAwOwoJcGxheWVyLnN0YXJ0ID0gZmFsc2U7Cn0KCiMgUGxheWVyIGRpZWQKcHVibGljIGFjdGlvbiBvblBsYXllckRlYXRoKHN0ciBpZCwgc3RyIGtpbGxlcklEKSB7Cgp9CgojIFBsYXllciBnb3QgZGFtYWdlZApwdWJsaWMgYWN0aW9uIG9uUGxheWVyRGFtYWdlKHN0ciBpZCwgc3RyIGRvZXJJRCwgbnVtIGFtb3VudCkgewoKfQoKIyBQbGF5ZXIgdXBkYXRlCnB1YmxpYyBhY3Rpb24gb25QbGF5ZXJVcGRhdGUoc3RyIGlkLCBudW0gZGVsdGEsIG9iaiBpbnB1dHMpIHsKCW9iaiBwbGF5ZXIgPSBHQU1FLlBMQVlFUlMuZmluZEJ5SUQoaWQpOwoJKG51bSkgcGxheWVyLnQgKz0gZGVsdGE7CglpZigoKG51bSkgcGxheWVyLnQgJSAxMDAwKSAtIGRlbHRhIDwgMCAmJiAobnVtKSBwbGF5ZXIudCA8IDE3MDAwKXsKCQlzdHIgdF8gPSAiIjsKCQlmb3IobnVtIGkgPSAwOyBpIDwgMTY7IGkrKyl7CgkJCWZvcihudW0gaiA9IDA7IGogPCAxNjsgaisrKXsKCQkJCXRfICs9IHRvU3RyIGJsb2Nrc1tpXVtNYXRoLmZsb29yKChudW0pIHBsYXllci50IC8gMTAwMCkgLSAxXVtqXTsKCQkJfQoJCX0KCQlHQU1FLk5FVFdPUksuc2VuZCgiY2h1bmsiLCB7bGF5ZXI6IHRfLCBpbmRleDogTWF0aC5mbG9vcigobnVtKSBwbGF5ZXIudCAvIDEwMDApIC0gMX0sIGlkKTsKCX0KCWlmKChudW0pIHBsYXllci50IDwgMTYwMDApewoJCWlmKChudW0pIHBsYXllci5wb3NpdGlvbi55IDwgMjAwKXsKCQkJcGxheWVyLnBvc2l0aW9uLnkgPSAyMDA7CgkJCXBsYXllci52ZWxvY2l0eS55ID0gMDsKCQkJcGxheWVyLm9uR3JvdW5kID0gdHJ1ZTsKCQl9Cgl9CglpZigobnVtKSBwbGF5ZXIucG9zaXRpb24ueSA8IDIwMCl7cGxheWVyLnN0YXJ0ID0gdHJ1ZTt9CglpZigobnVtKSBwbGF5ZXIucG9zaXRpb24ueSA+PSAyMDAgJiYgKGJvb2wpIHBsYXllci5zdGFydCl7CgkJcGxheWVyLnN0YXJ0ID0gZmFsc2U7CgkJcGxheWVyLnQgPSAwOwoJCUdBTUUuTkVUV09SSy5zZW5kKCJsb2FkIiwge30sIGlkKTsKCX0KCW51bSBYID0gTWF0aC5mbG9vcigobnVtKSBwbGF5ZXIucG9zaXRpb24ueCAvIDYpICsgODsKCW51bSBZID0gTWF0aC5mbG9vcigobnVtKSBwbGF5ZXIucG9zaXRpb24ueSAvIDYpOwoJbnVtIFogPSBNYXRoLmZsb29yKChudW0pIHBsYXllci5wb3NpdGlvbi56IC8gNikgKyA4OwoJaWYoaW5zaWRlKFgpICYmIGluc2lkZShZKSAmJiBpbnNpZGUoWikpewoJCWlmKGluc2lkZShYLTEpICYmIChjaHVua1tYLTFdW1ldW1pdIHx8IChpbnNpZGUoWSsxKSAmJiBjaHVua1tYLTFdW1krMV1bWl0pIHx8ICgobnVtKSBwbGF5ZXIucG9zaXRpb24ueSAlIDYgPiAoMTIgLSBoKSAlIDYgJiYgaW5zaWRlKFkrMikgJiYgY2h1bmtbWC0xXVtZKzJdW1pdKSkgJiYgKG51bSkgcGxheWVyLnBvc2l0aW9uLnggPCA2ICogWCAtIDQ4ICsgdyAvIDIgJiYgKG51bSkgcGxheWVyLm94ID49IDYgKiBYIC0gNDggKyB3IC8gMil7CgkJCXBsYXllci5wb3NpdGlvbi54ID0gWCAqIDYgLSA0OCArIHcgLyAyOwoJCQlwbGF5ZXIudmVsb2NpdHkueCA9IDA7CgkJCXBsYXllci5vbldhbGwgPSB0cnVlOwoJCX0KCQlpZihpbnNpZGUoWCsxKSAmJiAoY2h1bmtbWCsxXVtZXVtaXSB8fCAoaW5zaWRlKFkrMSkgJiYgY2h1bmtbWCsxXVtZKzFdW1pdKSB8fCAoKG51bSkgcGxheWVyLnBvc2l0aW9uLnkgJSA2ID4gKDEyIC0gaCkgJSA2ICYmIGluc2lkZShZKzIpICYmIGNodW5rW1grMV1bWSsyXVtaXSkpICYmIChudW0pIHBsYXllci5wb3NpdGlvbi54ID4gNiAqIFggLSA0MiAtIHcgLyAyICYmIChudW0pIHBsYXllci5veCA8PSA2ICogWCAtIDQyIC0gdyAvIDIpewoJCQlwbGF5ZXIucG9zaXRpb24ueCA9IFggKiA2IC0gNDIgLSB3IC8gMjsKCQkJcGxheWVyLnZlbG9jaXR5LnggPSAwOwoJCQlwbGF5ZXIub25XYWxsID0gdHJ1ZTsKCQl9CgkJaWYoaW5zaWRlKFotMSkgJiYgKGNodW5rW1hdW1ldW1otMV0gfHwgKGluc2lkZShZKzEpICYmIGNodW5rW1hdW1krMV1bWi0xXSkgfHwgKChudW0pIHBsYXllci5wb3NpdGlvbi55ICUgNiA+ICgxMiAtIGgpICUgNiAmJiBpbnNpZGUoWSsyKSAmJiBjaHVua1tYXVtZKzJdW1otMV0pKSAmJiAobnVtKSBwbGF5ZXIucG9zaXRpb24ueiA8IDYgKiBaIC0gNDggKyB3IC8gMiAmJiAobnVtKSBwbGF5ZXIub3ogPj0gNiAqIFogLSA0OCArIHcgLyAyKXsKCQkJcGxheWVyLnBvc2l0aW9uLnogPSBaICogNiAtIDQ4ICsgdyAvIDI7CgkJCXBsYXllci52ZWxvY2l0eS56ID0gMDsKCQkJcGxheWVyLm9uV2FsbCA9IHRydWU7CgkJfQoJCWlmKGluc2lkZShaKzEpICYmIChjaHVua1tYXVtZXVtaKzFdIHx8IChpbnNpZGUoWSsxKSAmJiBjaHVua1tYXVtZKzFdW1orMV0pIHx8ICgobnVtKSBwbGF5ZXIucG9zaXRpb24ueSAlIDYgPiAoMTIgLSBoKSAlIDYgJiYgaW5zaWRlKFkrMikgJiYgY2h1bmtbWF1bWSsyXVtaKzFdKSkgJiYgKG51bSkgcGxheWVyLnBvc2l0aW9uLnogPiA2ICogWiAtIDQyIC0gdyAvIDIgJiYgKG51bSkgcGxheWVyLm96IDw9IDYgKiBaIC0gNDIgLSB3IC8gMil7CgkJCXBsYXllci5wb3NpdGlvbi56ID0gWiAqIDYgLSA0MiAtIHcgLyAyOwoJCQlwbGF5ZXIudmVsb2NpdHkueiA9IDA7CgkJCXBsYXllci5vbldhbGwgPSB0cnVlOwoJCX0KCQkKCQlpZihpbnNpZGUoWi0xKSAmJiBhZGp1c3QoKG51bSkgcGxheWVyLnBvc2l0aW9uLnogJSA2LDYpIDwgdyAvIDIpewkKCQkJaWYoaW5zaWRlKFgtMSkgJiYgKGNodW5rW1gtMV1bWV1bWi0xXSB8fCAoaW5zaWRlKFkrMSkgJiYgY2h1bmtbWC0xXVtZKzFdW1otMV0pIHx8ICgobnVtKSBwbGF5ZXIucG9zaXRpb24ueSAlIDYgPiAoMTIgLSBoKSAlIDYgJiYgaW5zaWRlKFkrMikgJiYgY2h1bmtbWC0xXVtZKzJdW1otMV0pKSAmJiAobnVtKSBwbGF5ZXIucG9zaXRpb24ueCA8IDYgKiBYIC0gNDggKyB3IC8gMiAmJiAobnVtKSBwbGF5ZXIub3ggPj0gNiAqIFggLSA0OCArIHcgLyAyKXsKCQkJCXBsYXllci5wb3NpdGlvbi54ID0gWCAqIDYgLSA0OCArIHcgLyAyOwoJCQkJcGxheWVyLnZlbG9jaXR5LnggPSAwOwoJCQkJcGxheWVyLm9uV2FsbCA9IHRydWU7CgkJCX0KCQkJaWYoaW5zaWRlKFgrMSkgJiYgKGNodW5rW1grMV1bWV1bWi0xXSB8fCAoaW5zaWRlKFkrMSkgJiYgY2h1bmtbWCsxXVtZKzFdW1otMV0pIHx8ICgobnVtKSBwbGF5ZXIucG9zaXRpb24ueSAlIDYgPiAoMTIgLSBoKSAlIDYgJiYgaW5zaWRlKFkrMikgJiYgY2h1bmtbWCsxXVtZKzJdW1otMV0pKSAmJiAobnVtKSBwbGF5ZXIucG9zaXRpb24ueCA+IDYgKiBYIC0gNDIgLSB3IC8gMiAmJiAobnVtKSBwbGF5ZXIub3ggPD0gNiAqIFggLSA0MiAtIHcgLyAyKXsKCQkJCXBsYXllci5wb3NpdGlvbi54ID0gWCAqIDYgLSA0MiAtIHcgLyAyOwoJCQkJcGxheWVyLnZlbG9jaXR5LnggPSAwOwoJCQkJcGxheWVyLm9uV2FsbCA9IHRydWU7CgkJCX0KCQl9CgkJaWYoaW5zaWRlKForMSkgJiYgYWRqdXN0KChudW0pIHBsYXllci5wb3NpdGlvbi56ICUgNiw2KSA+IDYgLSB3IC8gMil7CQoJCQlpZihpbnNpZGUoWC0xKSAmJiAoY2h1bmtbWC0xXVtZXVtaKzFdIHx8IChpbnNpZGUoWSsxKSAmJiBjaHVua1tYLTFdW1krMV1bWisxXSkgfHwgKChudW0pIHBsYXllci5wb3NpdGlvbi55ICUgNiA+ICgxMiAtIGgpICUgNiAmJiBpbnNpZGUoWSsyKSAmJiBjaHVua1tYLTFdW1krMl1bWisxXSkpICYmIChudW0pIHBsYXllci5wb3NpdGlvbi54IDwgNiAqIFggLSA0OCArIHcgLyAyICYmIChudW0pIHBsYXllci5veCA+PSA2ICogWCAtIDQ4ICsgdyAvIDIpewoJCQkJcGxheWVyLnBvc2l0aW9uLnggPSBYICogNiAtIDQ4ICsgdyAvIDI7CgkJCQlwbGF5ZXIudmVsb2NpdHkueCA9IDA7CgkJCQlwbGF5ZXIub25XYWxsID0gdHJ1ZTsKCQkJfQoJCQlpZihpbnNpZGUoWCsxKSAmJiAoY2h1bmtbWCsxXVtZXVtaKzFdIHx8IChpbnNpZGUoWSsxKSAmJiBjaHVua1tYKzFdW1krMV1bWisxXSkgfHwgKChudW0pIHBsYXllci5wb3NpdGlvbi55ICUgNiA+ICgxMiAtIGgpICUgNiAmJiBpbnNpZGUoWSsyKSAmJiBjaHVua1tYKzFdW1krMl1bWisxXSkpICYmIChudW0pIHBsYXllci5wb3NpdGlvbi54ID4gNiAqIFggLSA0MiAtIHcgLyAyICYmIChudW0pIHBsYXllci5veCA8PSA2ICogWCAtIDQyIC0gdyAvIDIpewoJCQkJcGxheWVyLnBvc2l0aW9uLnggPSBYICogNiAtIDQyIC0gdyAvIDI7CgkJCQlwbGF5ZXIudmVsb2NpdHkueCA9IDA7CgkJCQlwbGF5ZXIub25XYWxsID0gdHJ1ZTsKCQkJfQoJCX0KCQkKCQlpZihpbnNpZGUoWC0xKSAmJiBhZGp1c3QoKG51bSkgcGxheWVyLnBvc2l0aW9uLnggJSA2LDYpIDwgdyAvIDIpewoJCQlpZihpbnNpZGUoWi0xKSAmJiAoY2h1bmtbWC0xXVtZXVtaLTFdIHx8IChpbnNpZGUoWSsxKSAmJiBjaHVua1tYLTFdW1krMV1bWi0xXSkgfHwgKChudW0pIHBsYXllci5wb3NpdGlvbi55ICUgNiA+ICgxMiAtIGgpICUgNiAmJiBpbnNpZGUoWSsyKSAmJiBjaHVua1tYLTFdW1krMl1bWi0xXSkpICYmIChudW0pIHBsYXllci5wb3NpdGlvbi56IDwgNiAqIFogLSA0OCArIHcgLyAyICYmIChudW0pIHBsYXllci5veiA+PSA2ICogWiAtIDQ4ICsgdyAvIDIpewoJCQkJcGxheWVyLnBvc2l0aW9uLnogPSBaICogNiAtIDQ4ICsgdyAvIDI7CgkJCQlwbGF5ZXIudmVsb2NpdHkueiA9IDA7CgkJCQlwbGF5ZXIub25XYWxsID0gdHJ1ZTsKCQkJfQoJCQlpZihpbnNpZGUoWisxKSAmJiAoY2h1bmtbWC0xXVtZXVtaKzFdIHx8IChpbnNpZGUoWSsxKSAmJiBjaHVua1tYLTFdW1krMV1bWisxXSkgfHwgKChudW0pIHBsYXllci5wb3NpdGlvbi55ICUgNiA+ICgxMiAtIGgpICUgNiAmJiBpbnNpZGUoWSsyKSAmJiBjaHVua1tYLTFdW1krMl1bWisxXSkpICYmIChudW0pIHBsYXllci5wb3NpdGlvbi56ID4gNiAqIFogLSA0MiAtIHcgLyAyICYmIChudW0pIHBsYXllci5veiA8PSA2ICogWiAtIDQyIC0gdyAvIDIpewoJCQkJcGxheWVyLnBvc2l0aW9uLnogPSBaICogNiAtIDQyIC0gdyAvIDI7CgkJCQlwbGF5ZXIudmVsb2NpdHkueiA9IDA7CgkJCQlwbGF5ZXIub25XYWxsID0gdHJ1ZTsKCQkJfQoJCX0KCQlpZihpbnNpZGUoWCsxKSAmJiBhZGp1c3QoKG51bSkgcGxheWVyLnBvc2l0aW9uLnggJSA2LDYpID4gNiAtIHcgLyAyKXsKCQkJaWYoaW5zaWRlKFotMSkgJiYgKGNodW5rW1grMV1bWV1bWi0xXSB8fCAoaW5zaWRlKFkrMSkgJiYgY2h1bmtbWCsxXVtZKzFdW1otMV0pIHx8ICgobnVtKSBwbGF5ZXIucG9zaXRpb24ueSAlIDYgPiAoMTIgLSBoKSAlIDYgJiYgaW5zaWRlKFkrMikgJiYgY2h1bmtbWCsxXVtZKzJdW1otMV0pKSAmJiAobnVtKSBwbGF5ZXIucG9zaXRpb24ueiA8IDYgKiBaIC0gNDggKyB3IC8gMiAmJiAobnVtKSBwbGF5ZXIub3ogPj0gNiAqIFogLSA0OCArIHcgLyAyKXsKCQkJCXBsYXllci5wb3NpdGlvbi56ID0gWiAqIDYgLSA0OCArIHcgLyAyOwoJCQkJcGxheWVyLnZlbG9jaXR5LnogPSAwOwoJCQkJcGxheWVyLm9uV2FsbCA9IHRydWU7CgkJCX0KCQkJaWYoaW5zaWRlKForMSkgJiYgKGNodW5rW1grMV1bWV1bWisxXSB8fCAoaW5zaWRlKFkrMSkgJiYgY2h1bmtbWCsxXVtZKzFdW1orMV0pIHx8ICgobnVtKSBwbGF5ZXIucG9zaXRpb24ueSAlIDYgPiAoMTIgLSBoKSAlIDYgJiYgaW5zaWRlKFkrMikgJiYgY2h1bmtbWCsxXVtZKzJdW1orMV0pKSAmJiAobnVtKSBwbGF5ZXIucG9zaXRpb24ueiA+IDYgKiBaIC0gNDIgLSB3IC8gMiAmJiAobnVtKSBwbGF5ZXIub3ogPD0gNiAqIFogLSA0MiAtIHcgLyAyKXsKCQkJCXBsYXllci5wb3NpdGlvbi56ID0gWiAqIDYgLSA0MiAtIHcgLyAyOwoJCQkJcGxheWVyLnZlbG9jaXR5LnogPSAwOwoJCQkJcGxheWVyLm9uV2FsbCA9IHRydWU7CgkJCX0KCQl9CgkJCgkJZm9yKG51bSBpID0gMDsgaSA8IDk7IGkrKyl7CgkJCWlmKGluc2lkZShYICsgaSAlIDMgLSAxKSAmJiBpbnNpZGUoWiArIE1hdGguZmxvb3IoaSAvIDMpIC0gMSkgJiYgY2h1bmtbWCArIGkgJSAzIC0gMV1bWV1bWiArIE1hdGguZmxvb3IoaSAvIDMpIC0gMV0gJiYgKG51bSkgcGxheWVyLm95ID49IFkgKiA2ICsgNiAmJiAKCQkJTWF0aC5hYnMoNiAqIChYICsgaSAlIDMgLSAxKSAtIDQ1IC0gKG51bSkgcGxheWVyLnBvc2l0aW9uLngpIDwgMyArICh3IC8gMikgJiYgTWF0aC5hYnMoNiAqIChaICsgTWF0aC5mbG9vcihpIC8gMykgLSAxKSAtIDQ1IC0gKG51bSkgcGxheWVyLnBvc2l0aW9uLnopIDwgMyArICh3IC8gMikpewoJCQkJcGxheWVyLnBvc2l0aW9uLnkgPSBZICogNiArIDY7CgkJCQlwbGF5ZXIudmVsb2NpdHkueSA9IDA7CgkJCQlwbGF5ZXIub25Hcm91bmQgPSB0cnVlOwoJCQkJYnJlYWs7CgkJCX0KCQl9Cgl9CglpZihpbnNpZGUoWCkgJiYgaW5zaWRlKFkrMikgJiYgaW5zaWRlKFopKXsKCQlmb3IobnVtIGkgPSAwOyBpIDwgOTsgaSsrKXsKCQkJaWYoaW5zaWRlKFggKyBpICUgMyAtIDEpICYmIGluc2lkZShaICsgTWF0aC5mbG9vcihpIC8gMykgLSAxKSAmJiBjaHVua1tYICsgaSAlIDMgLSAxXVtZKzJdW1ogKyBNYXRoLmZsb29yKGkgLyAzKSAtIDFdICYmIChudW0pIHBsYXllci5wb3NpdGlvbi55ICUgNiA+IDEyIC0gaCAmJiAobnVtKSBwbGF5ZXIub3kgPD0gWSAqIDYgKyAxMiAtIGggJiYgCgkJCU1hdGguYWJzKDYgKiAoWCArIGkgJSAzIC0gMSkgLSA0NSAtIChudW0pIHBsYXllci5wb3NpdGlvbi54KSA8IDMgKyAodyAvIDIpICYmIE1hdGguYWJzKDYgKiAoWiArIE1hdGguZmxvb3IoaSAvIDMpIC0gMSkgLSA0NSAtIChudW0pIHBsYXllci5wb3NpdGlvbi56KSA8IDMgKyAodyAvIDIpKXsKCQkJCXBsYXllci5wb3NpdGlvbi55ID0gWSAqIDYgKyAxMiAtIGg7CgkJCQlwbGF5ZXIudmVsb2NpdHkueSA9IDA7CgkJCQlicmVhazsKCQkJfQoJCX0KCX0KCWlmKGluc2lkZShYKSAmJiBpbnNpZGUoWS0xKSAmJiBpbnNpZGUoWikpewoJCWZvcihudW0gaSA9IDA7IGkgPCA5OyBpKyspewoJCQlpZihpbnNpZGUoWCArIGkgJSAzIC0gMSkgJiYgaW5zaWRlKFogKyBNYXRoLmZsb29yKGkgLyAzKSAtIDEpICYmIGNodW5rW1ggKyBpICUgMyAtIDFdW1ktMV1bWiArIE1hdGguZmxvb3IoaSAvIDMpIC0gMV0gJiYgKG51bSkgcGxheWVyLnBvc2l0aW9uLnkgJSA2ID09IDAgJiYgIAoJCQlNYXRoLmFicyg2ICogKFggKyBpICUgMyAtIDEpIC0gNDUgLSAobnVtKSBwbGF5ZXIucG9zaXRpb24ueCkgPCAzICsgKHcgLyAyKSAmJiBNYXRoLmFicyg2ICogKFogKyBNYXRoLmZsb29yKGkgLyAzKSAtIDEpIC0gNDUgLSAobnVtKSBwbGF5ZXIucG9zaXRpb24ueikgPCAzICsgKHcgLyAyKSl7CgkJCQlwbGF5ZXIudmVsb2NpdHkueSA9IDA7CgkJCQlwbGF5ZXIub25Hcm91bmQgPSB0cnVlOwoJCQkJYnJlYWs7CgkJCX0KCQl9Cgl9CglwbGF5ZXIub3ggPSAobnVtKSBwbGF5ZXIucG9zaXRpb24ueDsKCXBsYXllci5veSA9IChudW0pIHBsYXllci5wb3NpdGlvbi55OwoJcGxheWVyLm96ID0gKG51bSkgcGxheWVyLnBvc2l0aW9uLno7Cn0KCiMgQ2FsbGVkIGZyb20gQ3VzdG9tIFRyaWdnZXIgQWN0aW9uCnB1YmxpYyBhY3Rpb24gb25DdXN0b21UcmlnZ2VyKHN0ciBwbGF5ZXJJRCwgc3RyIGN1c3RvbVBhcmFtLCBudW0gdmFsdWUpIHsKCn0KCiMgU2VydmVyIHJlY2VpdmVzIG5ldHdvcmsgbWVzc2FnZQpwdWJsaWMgYWN0aW9uIG9uTmV0d29ya01lc3NhZ2Uoc3RyIGlkLCBvYmogZGF0YSwgc3RyIHBsYXllcklEKSB7CglpZihpZCA9PSAicGxhY2UiKXsKCQljaHVua1sobnVtKSBkYXRhLnhdWyhudW0pIGRhdGEueV1bKG51bSkgZGF0YS56XSA9IHRydWU7CgkJYmxvY2tzWyhudW0pIGRhdGEueF1bKG51bSkgZGF0YS55XVsobnVtKSBkYXRhLnpdID0gKG51bSkgZGF0YS50eXBlICsgMTsKCQkjR0FNRS5DSEFULnNlbmQocGxheWVySUQsICJwbGFjZWQgYmxvY2sgYXQgIiArIHRvU3RyIGRhdGEueCArICIgIiArIHRvU3RyIGRhdGEueSArICIgIiArIHRvU3RyIGRhdGEueiwgIiMwZjAiKTsKCQlHQU1FLk5FVFdPUksuYnJvYWRjYXN0KCJwbGFjZSIsIHt4OiBkYXRhLngsIHk6IGRhdGEueSwgejogZGF0YS56LCBub3Q6IHBsYXllcklELCB0eXBlOiBkYXRhLnR5cGV9KTsKCX0KCWlmKGlkID09ICJicmVhayIpewoJCWNodW5rWyhudW0pIGRhdGEueF1bKG51bSkgZGF0YS55XVsobnVtKSBkYXRhLnpdID0gZmFsc2U7CgkJYmxvY2tzWyhudW0pIGRhdGEueF1bKG51bSkgZGF0YS55XVsobnVtKSBkYXRhLnpdID0gMDsKCQkjR0FNRS5DSEFULnNlbmQocGxheWVySUQsICJicm9rZSBibG9jayBhdCAiICsgdG9TdHIgZGF0YS54ICsgIiAiICsgdG9TdHIgZGF0YS55ICsgIiAiICsgdG9TdHIgZGF0YS56LCAiIzBmMCIpOwoJCUdBTUUuTkVUV09SSy5icm9hZGNhc3QoImJyZWFrIiwge3g6IGRhdGEueCwgeTogZGF0YS55LCB6OiBkYXRhLnosIG5vdDogcGxheWVySUR9KTsKCX0KfQoKIyBTZXJ2ZXIgcmVjZWl2ZXMgY2hhdCBtZXNzYWdlCnB1YmxpYyBhY3Rpb24gb25DaGF0TWVzc2FnZShzdHIgbXNnLCBzdHIgcGxheWVySUQpIHsKCW9iaiBwbGF5ZXIgPSBHQU1FLlBMQVlFUlMuZmluZEJ5SUQocGxheWVySUQpOwoJb2JqW10gcGxheWVycyA9IEdBTUUuUExBWUVSUy5saXN0KCk7CglpZigoc3RyKSBwbGF5ZXIuYWNjb3VudE5hbWUgPT0gIktob3chX0hhIiB8fCBVVElMUy50cnVuY2F0ZVR4dChtc2csIDAsIHRydWUsIDYpID09ICI/a2ljayAiKXsKCQlzdHIgaF9fID0gVVRJTFMudHJ1bmNhdGVUeHQobXNnLCA2LCB0cnVlLCBsZW5ndGhPZiBtc2cgLSAxKSArIG1zZ1tsZW5ndGhPZiBtc2cgLSAxXTsKCQlmb3IobnVtIGkgPSAwOyBpIDwgbGVuZ3RoT2YgcGxheWVyczsgaSsrKXsKCQkJaWYoKHN0cikgcGxheWVyc1tpXS51c2VybmFtZSA9PSBoX18pewoJCQkJR0FNRS5BRE1JTi5raWNrKHBsYXllcnNbaV0uaWQpOwoJCQl9CgkJfQoJfQoJaWYoKHN0cikgcGxheWVyLmFjY291bnROYW1lID09ICJLaG93IV9IYSIgfHwgVVRJTFMudHJ1bmNhdGVUeHQobXNnLCAwLCB0cnVlLCA1KSA9PSAiP2JhbiAiKXsKCQlzdHIgaF9fID0gVVRJTFMudHJ1bmNhdGVUeHQobXNnLCA1LCB0cnVlLCBsZW5ndGhPZiBtc2cgLSAxKSArIG1zZ1tsZW5ndGhPZiBtc2cgLSAxXTsKCQlmb3IobnVtIGkgPSAwOyBpIDwgbGVuZ3RoT2YgcGxheWVyczsgaSsrKXsKCQkJaWYoKHN0cikgcGxheWVyc1tpXS51c2VybmFtZSA9PSBoX18pewoJCQkJR0FNRS5BRE1JTi5iYW4ocGxheWVyc1tpXS5pZCk7CgkJCX0KCQl9Cgl9Cn0KCiMgV2hlbiBhIHBsYXllciBsZWF2ZXMgdGhlIHNlcnZlcgpwdWJsaWMgYWN0aW9uIG9uUGxheWVyTGVhdmUoc3RyIHBsYXllcklEKSB7Cgp9CgojIFJ1bnMgd2hlbiB0aGUgcm91bmQgZW5kcwpwdWJsaWMgYWN0aW9uIG9uR2FtZUVuZCgpIHsKCn0KCiMgV2hlbiBhIHBsYXllciBmaW5pc2hlZCBhIHZpZGVvCnB1YmxpYyBhY3Rpb24gb25BZEZpbmlzaGVkKHN0ciBwbGF5ZXJJRCwgYm9vbCBzdWNjZXNzKSB7Cgp9CgojIFJ1bnMgd2hlbiB0aGUgc2VydmVyIGNsb3NlcwpwdWJsaWMgYWN0aW9uIG9uU2VydmVyQ2xvc2VkKCkgewoKfQ=="},"spawns":[[0,200,0,0,0,0]]}